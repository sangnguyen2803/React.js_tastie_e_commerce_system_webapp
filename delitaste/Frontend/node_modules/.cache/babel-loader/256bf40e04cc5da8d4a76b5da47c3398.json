{"ast":null,"code":"var _jsxFileName = \"/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/MerchantDashboard/DashboardFeatures/MDProduct/UpcomingProductDetail.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useEffect } from \"react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faDownload, faPlus, faQuestionCircle, faTrashAlt } from \"@fortawesome/fontawesome-free-solid\";\nimport Button from \"components/Commons/Button/Button\";\nimport { getProductListAPI, getUpcomingProductAPI } from \"store/actions/ProductAction/ProductAction\";\nimport \"../Panel.scss\";\nimport { faFileDownload } from \"@fortawesome/free-solid-svg-icons\";\nimport AddUpcomingProduct from \"./UpcomingProductHandler/AddUpcomingProduct\";\nimport Chart from \"react-apexcharts\";\nimport Metric from \"components/MerchantDashboard/DashboardFeatures/Metric/Metric\";\nimport ViewUpcomingProduct from \"./UpcomingProductHandler/ViewUpcomingProduct\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UpcomingProductDetail(props) {\n  _s();\n\n  const {\n    user,\n    product,\n    getProductListAPI,\n    getUpcomingProductAPI\n  } = props;\n  const [items, setItems] = useState([]);\n  const [showHandlerPanel, setShowHandlerPanel] = useState(0);\n  const [selectedProduct, setSelectedProduct] = useState([]);\n  const [question, setQuestion] = useState(\"Are you eager to try this product?\");\n  const [choice, setChoice] = useState([]);\n  const [series, setSeries] = useState([20, 20, 20, 20, 20]);\n  const [options, setOptions] = useState({\n    colors: [\"#1CBB9B\", \"#E11A22\", \"#F8A825\", \"#02ADC1\", \"#C5CFD1\"],\n    plotOptions: {\n      pie: {\n        startAngle: 0,\n        endAngle: 360,\n        offsetX: 0,\n        offsetY: 0,\n        customScale: 1,\n        expandOnClick: true,\n        dataLabels: {\n          offset: -10,\n          fontSize: 26,\n          minAngleToShowLabel: 10\n        }\n      }\n    },\n    legend: {\n      show: true,\n      fontSize: \"13px\",\n      fontFamily: \"Poppins, sans-serif\",\n      fontWeight: 400,\n      offsetX: 20,\n      offsetY: 20\n    },\n    chart: {\n      width: 380,\n      type: \"pie\",\n      fontFamily: \"Poppins, sans-serif\"\n    },\n    labels: [\"Option 1\", \"Option 2\", \"Option 3\", \"Option 4\", \"Option 5\"],\n    responsive: [{\n      breakpoint: 800,\n      options: {\n        chart: {\n          width: 200\n        },\n        legend: {\n          position: \"bottom\"\n        }\n      }\n    }]\n  });\n  useEffect(() => {\n    async function fetchUpcomingProducts(id) {\n      var _result$, _result$$statistic, _result$2, _result$3, _result$4, _result$4$statistic;\n\n      const result = await getUpcomingProductAPI(id);\n      if (result.length === 0) return;\n      const seriesOnFirstRender = (_result$ = result[0]) === null || _result$ === void 0 ? void 0 : (_result$$statistic = _result$.statistic) === null || _result$$statistic === void 0 ? void 0 : _result$$statistic.map(s => s.num_responses);\n      setChoice((_result$2 = result[0]) === null || _result$2 === void 0 ? void 0 : _result$2.choice);\n      setQuestion((_result$3 = result[0]) === null || _result$3 === void 0 ? void 0 : _result$3.question);\n      setSeries(seriesOnFirstRender);\n      setOptions({ ...options,\n        labels: (_result$4 = result[0]) === null || _result$4 === void 0 ? void 0 : (_result$4$statistic = _result$4.statistic) === null || _result$4$statistic === void 0 ? void 0 : _result$4$statistic.map(s => s.response)\n      });\n      setItems(result);\n    }\n\n    fetchUpcomingProducts(user.provider_id);\n  }, [user.provider_id]);\n\n  const handleUpdateStatistics = p => {\n    var _p$statistic, _p$statistic2;\n\n    setChoice(p.choice);\n    setQuestion(p.question);\n    const seriesOnFirstRender = (_p$statistic = p.statistic) === null || _p$statistic === void 0 ? void 0 : _p$statistic.map(s => s.num_responses);\n    setSeries(seriesOnFirstRender);\n    setOptions({ ...options,\n      labels: (_p$statistic2 = p.statistic) === null || _p$statistic2 === void 0 ? void 0 : _p$statistic2.map(s => s.response)\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"double-panel-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-detail-panel-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pie-chart-wrapper\",\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"flex-start\",\n            backgroundColor: \"white\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Chart, {\n            options: options,\n            series: series,\n            type: \"pie\",\n            width: \"400\",\n            height: \"220\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Metric, {\n            text: \"UP Surveillance help approach customer's preference about your pre-release product on purpose of product's improvement\",\n            width: \"100%\",\n            height: 220,\n            radius: 5,\n            border: \"2px solid #eeeeee\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"metric-title\",\n              children: [\"Surveillance Detail\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                className: \"question-icon\",\n                icon: faQuestionCircle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"up-pro-detail\",\n              style: {\n                fontSize: 13,\n                alignSelf: \"flex-start\",\n                marginLeft: 25\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Question: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this), question]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"homebody-sb-radio-detail-wrapper\",\n              style: {\n                marginBottom: 10\n              },\n              children: choice === null || choice === void 0 ? void 0 : choice.map((c, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-answer\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"hb-sb-type-wrapper radio\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    value: \"abc\",\n                    name: \"survey\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"hb-sb-label-radio option-box-radio-label\",\n                    children: [\"A\", index + 1, \": \", c === null || c === void 0 ? void 0 : c.content]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel-detail-head-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"panel-detail-title\",\n            children: \"Pre-release Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            buttonType: \"primary\",\n            justifyContent: \"center\",\n            width: 250,\n            height: 32,\n            radius: \"0px\",\n            label: \"Add upcoming product\",\n            onClick: () => setShowHandlerPanel(0),\n            prefix: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faPlus,\n              style: {\n                color: \"white\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upcoming-product-table-wrapper\",\n          style: {\n            backgroundColor: selectedProduct[0] === \"10000001\" ? \"#E4E4E4\" : \"white\"\n          },\n          children: items === null || items === void 0 ? void 0 : items.map((up, index) => {\n            var _up$estimated_price;\n\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => {\n                setSelectedProduct(up);\n                handleUpdateStatistics(up);\n                setShowHandlerPanel(1);\n              },\n              className: \"upcoming-product-item\",\n              style: {\n                borderBottom: index === items.length - 1 ? \"2px solid #d6d6d6\" : \"unset\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"upcoming-product-img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: up.product_image,\n                  alt: \"upcoming_product_img\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"upcoming-product-content-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"upd-name\",\n                  children: up.product_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"upd-price\",\n                  children: [\"$ \", (_up$estimated_price = up.estimated_price) === null || _up$estimated_price === void 0 ? void 0 : _up$estimated_price.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"upd-description\",\n                  children: up.product_description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"upd-download\",\n                children: \"Get survey result\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"menu-product-price upd-icon\",\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  className: \"button-icon\",\n                  icon: faFileDownload\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"menu-product-price  upd-icon\",\n                children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  className: \"button-icon\",\n                  icon: faTrashAlt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sub-detail-panel-wrapper\",\n        children: showHandlerPanel === 0 ? /*#__PURE__*/_jsxDEV(AddUpcomingProduct, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ViewUpcomingProduct, {\n          selectedProduct: selectedProduct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UpcomingProductDetail, \"NjbF4ouWk5cqJZU/Wpj+5IsQjq0=\");\n\n_c = UpcomingProductDetail;\nUpcomingProductDetail.propTypes = {\n  user: PropTypes.object.isRequired,\n  product: PropTypes.object.isRequired,\n  getProductListAPI: PropTypes.func.isRequired,\n  getUpcomingProductAPI: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.UserReducer,\n  product: state.ProductReducer\n});\n\nexport default withRouter(connect(mapStateToProps, {\n  getProductListAPI,\n  getUpcomingProductAPI\n})(UpcomingProductDetail));\n\nvar _c;\n\n$RefreshReg$(_c, \"UpcomingProductDetail\");","map":{"version":3,"sources":["/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/MerchantDashboard/DashboardFeatures/MDProduct/UpcomingProductDetail.js"],"names":["Fragment","useState","useEffect","DragDropContext","Draggable","Droppable","withRouter","connect","PropTypes","FontAwesomeIcon","faDownload","faPlus","faQuestionCircle","faTrashAlt","Button","getProductListAPI","getUpcomingProductAPI","faFileDownload","AddUpcomingProduct","Chart","Metric","ViewUpcomingProduct","UpcomingProductDetail","props","user","product","items","setItems","showHandlerPanel","setShowHandlerPanel","selectedProduct","setSelectedProduct","question","setQuestion","choice","setChoice","series","setSeries","options","setOptions","colors","plotOptions","pie","startAngle","endAngle","offsetX","offsetY","customScale","expandOnClick","dataLabels","offset","fontSize","minAngleToShowLabel","legend","show","fontFamily","fontWeight","chart","width","type","labels","responsive","breakpoint","position","fetchUpcomingProducts","id","result","length","seriesOnFirstRender","statistic","map","s","num_responses","response","provider_id","handleUpdateStatistics","p","display","flexDirection","justifyContent","backgroundColor","alignSelf","marginLeft","marginBottom","c","index","content","color","up","borderBottom","product_image","product_name","estimated_price","toFixed","product_description","propTypes","object","isRequired","func","mapStateToProps","state","UserReducer","ProductReducer"],"mappings":"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","sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faDownload,\n  faPlus,\n  faQuestionCircle,\n  faTrashAlt,\n} from \"@fortawesome/fontawesome-free-solid\";\nimport Button from \"components/Commons/Button/Button\";\nimport {\n  getProductListAPI,\n  getUpcomingProductAPI,\n} from \"store/actions/ProductAction/ProductAction\";\nimport \"../Panel.scss\";\nimport { faFileDownload } from \"@fortawesome/free-solid-svg-icons\";\nimport AddUpcomingProduct from \"./UpcomingProductHandler/AddUpcomingProduct\";\nimport Chart from \"react-apexcharts\";\nimport Metric from \"components/MerchantDashboard/DashboardFeatures/Metric/Metric\";\nimport ViewUpcomingProduct from \"./UpcomingProductHandler/ViewUpcomingProduct\";\n\nfunction UpcomingProductDetail(props) {\n  const { user, product, getProductListAPI, getUpcomingProductAPI } = props;\n  const [items, setItems] = useState([]);\n  const [showHandlerPanel, setShowHandlerPanel] = useState(0);\n  const [selectedProduct, setSelectedProduct] = useState([]);\n\n  const [question, setQuestion] = useState(\n    \"Are you eager to try this product?\"\n  );\n  const [choice, setChoice] = useState([]);\n  const [series, setSeries] = useState([20, 20, 20, 20, 20]);\n  const [options, setOptions] = useState({\n    colors: [\"#1CBB9B\", \"#E11A22\", \"#F8A825\", \"#02ADC1\", \"#C5CFD1\"],\n    plotOptions: {\n      pie: {\n        startAngle: 0,\n        endAngle: 360,\n        offsetX: 0,\n        offsetY: 0,\n        customScale: 1,\n        expandOnClick: true,\n        dataLabels: {\n          offset: -10,\n          fontSize: 26,\n          minAngleToShowLabel: 10,\n        },\n      },\n    },\n    legend: {\n      show: true,\n      fontSize: \"13px\",\n      fontFamily: \"Poppins, sans-serif\",\n      fontWeight: 400,\n      offsetX: 20,\n      offsetY: 20,\n    },\n    chart: {\n      width: 380,\n      type: \"pie\",\n      fontFamily: \"Poppins, sans-serif\",\n    },\n    labels: [\"Option 1\", \"Option 2\", \"Option 3\", \"Option 4\", \"Option 5\"],\n    responsive: [\n      {\n        breakpoint: 800,\n        options: {\n          chart: {\n            width: 200,\n          },\n          legend: {\n            position: \"bottom\",\n          },\n        },\n      },\n    ],\n  });\n  useEffect(() => {\n    async function fetchUpcomingProducts(id) {\n      const result = await getUpcomingProductAPI(id);\n      if (result.length === 0) return;\n      const seriesOnFirstRender = result[0]?.statistic?.map(\n        (s) => s.num_responses\n      );\n      setChoice(result[0]?.choice);\n      setQuestion(result[0]?.question);\n      setSeries(seriesOnFirstRender);\n      setOptions({\n        ...options,\n        labels: result[0]?.statistic?.map((s) => s.response),\n      });\n      setItems(result);\n    }\n    fetchUpcomingProducts(user.provider_id);\n  }, [user.provider_id]);\n  \n  const handleUpdateStatistics = (p) => {\n    setChoice(p.choice);\n    setQuestion(p.question);\n    const seriesOnFirstRender = p.statistic?.map((s) => s.num_responses);\n    setSeries(seriesOnFirstRender);\n    setOptions({\n      ...options,\n      labels: p.statistic?.map((s) => s.response),\n    });\n  };\n  return (\n    <Fragment>\n      <div className=\"double-panel-container\">\n        <div className=\"main-detail-panel-wrapper\">\n          <div\n            className=\"pie-chart-wrapper\"\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              justifyContent: \"flex-start\",\n              backgroundColor: \"white\",\n            }}\n          >\n            <Chart\n              options={options}\n              series={series}\n              type=\"pie\"\n              width=\"400\"\n              height=\"220\"\n            />\n            <Metric\n              text={\n                \"UP Surveillance help approach customer's preference about your pre-release product on purpose of product's improvement\"\n              }\n              width={\"100%\"}\n              height={220}\n              radius={5}\n              border={\"2px solid #eeeeee\"}\n            >\n              <span className=\"metric-title\">\n                Surveillance Detail\n                <FontAwesomeIcon\n                  className=\"question-icon\"\n                  icon={faQuestionCircle}\n                />\n              </span>\n              <div\n                className=\"up-pro-detail\"\n                style={{\n                  fontSize: 13,\n                  alignSelf: \"flex-start\",\n                  marginLeft: 25,\n                }}\n              >\n                <b>Question: </b>\n                {question}\n              </div>\n              <div\n                className=\"homebody-sb-radio-detail-wrapper\"\n                style={{ marginBottom: 10 }}\n              >\n                {choice?.map((c, index) => (\n                  <div className=\"option-answer\" key={index}>\n                    <label className=\"hb-sb-type-wrapper radio\">\n                      <input type=\"radio\" value={\"abc\"} name=\"survey\" />\n                      <span className=\"hb-sb-label-radio option-box-radio-label\">\n                        A{index + 1}: {c?.content}\n                      </span>\n                    </label>\n                  </div>\n                ))}\n              </div>\n            </Metric>\n          </div>\n          <div className=\"panel-detail-head-wrapper\">\n            <div className=\"panel-detail-title\">Pre-release Product</div>\n            <Button\n              buttonType=\"primary\"\n              justifyContent={\"center\"}\n              width={250}\n              height={32}\n              radius={\"0px\"}\n              label={\"Add upcoming product\"}\n              onClick={() => setShowHandlerPanel(0)}\n              prefix={\n                <FontAwesomeIcon icon={faPlus} style={{ color: \"white\" }} />\n              }\n            />\n          </div>\n          <div\n            className=\"upcoming-product-table-wrapper\"\n            style={{\n              backgroundColor:\n                selectedProduct[0] === \"10000001\" ? \"#E4E4E4\" : \"white\",\n            }}\n          >\n            {items?.map((up, index) => (\n              <div\n                onClick={() => {\n                  setSelectedProduct(up);\n                  handleUpdateStatistics(up);\n                  setShowHandlerPanel(1);\n                }}\n                className=\"upcoming-product-item\"\n                style={{\n                  borderBottom:\n                    index === items.length - 1 ? \"2px solid #d6d6d6\" : \"unset\",\n                }}\n              >\n                <div className=\"upcoming-product-img\">\n                  <img src={up.product_image} alt=\"upcoming_product_img\" />\n                </div>\n                <div className=\"upcoming-product-content-wrapper\">\n                  <span className=\"upd-name\">{up.product_name}</span>\n                  <span className=\"upd-price\">\n                    &#36; {up.estimated_price?.toFixed(2)}\n                  </span>\n                  <span className=\"upd-description\">\n                    {up.product_description}\n                  </span>\n                </div>\n                <span className=\"upd-download\">Get survey result</span>\n                <div className=\"menu-product-price upd-icon\">\n                  <FontAwesomeIcon\n                    className=\"button-icon\"\n                    icon={faFileDownload}\n                  />\n                </div>\n                <div className=\"menu-product-price  upd-icon\">\n                  <FontAwesomeIcon className=\"button-icon\" icon={faTrashAlt} />\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"sub-detail-panel-wrapper\">\n          {showHandlerPanel === 0 ? (\n            <AddUpcomingProduct />\n          ) : (\n            <ViewUpcomingProduct selectedProduct={selectedProduct} />\n          )}\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nUpcomingProductDetail.propTypes = {\n  user: PropTypes.object.isRequired,\n  product: PropTypes.object.isRequired,\n  getProductListAPI: PropTypes.func.isRequired,\n  getUpcomingProductAPI: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.UserReducer,\n  product: state.ProductReducer,\n});\n\nexport default withRouter(\n  connect(mapStateToProps, { getProductListAPI, getUpcomingProductAPI })(\n    UpcomingProductDetail\n  )\n);\n"]},"metadata":{},"sourceType":"module"}