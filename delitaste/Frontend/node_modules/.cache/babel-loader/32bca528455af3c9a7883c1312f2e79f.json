{"ast":null,"code":"var _jsxFileName = \"/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/screens/RootScreen.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useRef, useEffect } from \"react\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport axios from \"axios\"; //components\n\nimport RouteWithSubRoutes from \"components/Commons/RouteWithSubRoutes\";\nimport { routes } from \"config/routes\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\"; //common screen\n\nimport HomeScreen from \"./HomeScreen/HomeScreen\";\nimport UserSignInScreen from \"./UserAdmissionScreen/UserSignInScreen\";\nimport UserRegistrationScreen from \"./UserAdmissionScreen/UserRegistrationScreen\";\nimport ProfileScreen from \"./ProfileScreen/ProfileScreen\";\nimport MerchantRegistrationScreen from \"./MerchantRegistrationScreen/MerchantRegistrationScreen\";\nimport SignContractScreen from \"./MerchantRegistrationScreen/SignContractScreen/SignContractScreen\";\nimport MerchantFormScreen from \"./MerchantRegistrationScreen/MerchantFormScreen\";\nimport ProviderDetailScreen from \"./ProviderDetailScreen/ProviderDetailScreen\"; //merchant registration form screen\n\nimport ServiceInfoForm from \"components/MerchantRegistration/Forms/DetailMerchantForm/ServiceInfoForm\";\nimport RegisteredRepresentativeForm from \"components/MerchantRegistration/Forms/DetailMerchantForm/RegisteredRepresentativeForm\";\nimport BusinessUnitForm from \"components/MerchantRegistration/Forms/DetailMerchantForm/BusinessUnitForm\";\nimport ProductDetailForm from \"components/MerchantRegistration/Forms/DetailMerchantForm/ProductDetailForm\";\nimport BankInfoForm from \"components/MerchantRegistration/Forms/DetailMerchantForm/BankInfoForm\";\nimport MerchantDashboardScreen from \"./MerchantDashboardScreen/MerchantDashboardScreen\";\nimport OrderCheckoutScreen from \"./OrderCheckoutScreen/OrderCheckoutScreen\";\nimport OrderTrackingScreen from \"./OrderTrackingScreen/OrderTrackingScreen\";\nimport SearchScreen from \"./SearchScreen/SearchScreen\";\nimport ShipperScreen from \"./ShipperScreen/ShipperScreen\";\nimport { setCurrentLocation, getUserNotification } from \"store/actions/UserAction/UserAction\";\nimport { getProviderNotification } from \"store/actions/ProviderAction/ProviderAction\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst history = createBrowserHistory();\n\nfunction RootScreen(props) {\n  _s();\n\n  var _props$user3, _props$user3$profile;\n\n  const getPosition = () => {\n    return new Promise((res, rej) => {\n      navigator.geolocation.getCurrentPosition(res, rej);\n    });\n  };\n\n  useEffect(() => {\n    async function getUserLocation() {\n      var position = await getPosition();\n      const {\n        latitude,\n        longitude\n      } = position.coords;\n      const endpoint = `https://api.geoapify.com/v1/geocode/reverse?lat=${latitude}&lon=${longitude}&apiKey=05e76b96155e447ba0391d645ce81d27`;\n      let res = await axios.get(endpoint);\n      var address = \"\";\n\n      if (res.data) {\n        var _res$data, _res$data$features$, _res$data$features$$p;\n\n        address = ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$features$ = _res$data.features[0]) === null || _res$data$features$ === void 0 ? void 0 : (_res$data$features$$p = _res$data$features$.properties) === null || _res$data$features$$p === void 0 ? void 0 : _res$data$features$$p.formatted) || \"\";\n      }\n\n      props.setCurrentLocation(latitude, longitude, address);\n    }\n\n    getUserLocation();\n  }, []);\n  useEffect(() => {\n    var _props$user, _props$user$profile, _props$user2, _props$user2$profile;\n\n    async function getNotification(role, uid, pid) {\n      if (role === 2) {\n        await props.getProviderNotification(pid);\n        return;\n      }\n\n      await props.getUserNotification(uid);\n      return;\n    }\n\n    if (((_props$user = props.user) === null || _props$user === void 0 ? void 0 : (_props$user$profile = _props$user.profile) === null || _props$user$profile === void 0 ? void 0 : _props$user$profile.length) !== 0 && ((_props$user2 = props.user) === null || _props$user2 === void 0 ? void 0 : (_props$user2$profile = _props$user2.profile) === null || _props$user2$profile === void 0 ? void 0 : _props$user2$profile.role)) getNotification(props.user.profile.role, props.user.profile.user_id, props.user.provider_id);\n  }, [(_props$user3 = props.user) === null || _props$user3 === void 0 ? void 0 : (_props$user3$profile = _props$user3.profile) === null || _props$user3$profile === void 0 ? void 0 : _props$user3$profile.role]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      history: history,\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        component: HomeScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/home\",\n        component: HomeScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/sign-up\",\n        component: UserRegistrationScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/sign-in\",\n        component: UserSignInScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/search\",\n        component: SearchScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile\",\n        component: ProfileScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/shipper-simulator\",\n        component: ShipperScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/provider-detail/:id\",\n        component: ProviderDetailScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/order-checkout/:uid\",\n        component: OrderCheckoutScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/order-tracking/:order_code\",\n        component: OrderTrackingScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/merchant-registration\",\n        component: MerchantRegistrationScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/merchant-sign-contract\",\n        component: SignContractScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/merchant-registration/:id/service\",\n        children: /*#__PURE__*/_jsxDEV(MerchantFormScreen, {\n          children: /*#__PURE__*/_jsxDEV(ServiceInfoForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/merchant-registration/:id/representative\",\n        children: /*#__PURE__*/_jsxDEV(MerchantFormScreen, {\n          children: /*#__PURE__*/_jsxDEV(RegisteredRepresentativeForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/merchant-registration/:id/business-unit\",\n        children: /*#__PURE__*/_jsxDEV(MerchantFormScreen, {\n          children: /*#__PURE__*/_jsxDEV(BusinessUnitForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/merchant-registration/:id/product-detail\",\n        children: /*#__PURE__*/_jsxDEV(MerchantFormScreen, {\n          children: /*#__PURE__*/_jsxDEV(ProductDetailForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/merchant-registration/:id/bank\",\n        children: /*#__PURE__*/_jsxDEV(MerchantFormScreen, {\n          children: /*#__PURE__*/_jsxDEV(BankInfoForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/merchant-dashboard\",\n        component: MerchantDashboardScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/:lang(en|vi)/\",\n        component: HomeScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/:lang(en|vi)/home\",\n        component: HomeScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/:lang(en|vi)/sign-in\",\n        component: UserSignInScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/:lang(en|vi)/sign-up\",\n        component: UserRegistrationScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/:lang(en|vi)/merchant-registration\",\n        component: MerchantRegistrationScreen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RootScreen, \"3ubReDTFssvu4DHeldAg55cW/CI=\");\n\n_c = RootScreen;\nRootScreen.propTypes = {\n  user: PropTypes.object.isRequired,\n  product: PropTypes.object.isRequired,\n  setCurrentLocation: PropTypes.func.isRequired,\n  getUserNotification: PropTypes.func.isRequired,\n  getProviderNotification: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.UserReducer,\n  product: state.ProductReducer\n});\n\nexport default connect(mapStateToProps, {\n  setCurrentLocation,\n  getProviderNotification,\n  getUserNotification\n})(RootScreen);\n\nvar _c;\n\n$RefreshReg$(_c, \"RootScreen\");","map":{"version":3,"sources":["/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/screens/RootScreen.js"],"names":["Fragment","useState","useRef","useEffect","Router","Route","Switch","createBrowserHistory","axios","RouteWithSubRoutes","routes","connect","PropTypes","HomeScreen","UserSignInScreen","UserRegistrationScreen","ProfileScreen","MerchantRegistrationScreen","SignContractScreen","MerchantFormScreen","ProviderDetailScreen","ServiceInfoForm","RegisteredRepresentativeForm","BusinessUnitForm","ProductDetailForm","BankInfoForm","MerchantDashboardScreen","OrderCheckoutScreen","OrderTrackingScreen","SearchScreen","ShipperScreen","setCurrentLocation","getUserNotification","getProviderNotification","history","RootScreen","props","getPosition","Promise","res","rej","navigator","geolocation","getCurrentPosition","getUserLocation","position","latitude","longitude","coords","endpoint","get","address","data","features","properties","formatted","getNotification","role","uid","pid","user","profile","length","user_id","provider_id","propTypes","object","isRequired","product","func","mapStateToProps","state","UserReducer","ProductReducer"],"mappings":"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","sourcesContent":["import { Fragment, useState, useRef, useEffect } from \"react\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport axios from \"axios\";\n//components\nimport RouteWithSubRoutes from \"components/Commons/RouteWithSubRoutes\";\nimport { routes } from \"config/routes\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n//common screen\nimport HomeScreen from \"./HomeScreen/HomeScreen\";\nimport UserSignInScreen from \"./UserAdmissionScreen/UserSignInScreen\";\nimport UserRegistrationScreen from \"./UserAdmissionScreen/UserRegistrationScreen\";\nimport ProfileScreen from \"./ProfileScreen/ProfileScreen\";\nimport MerchantRegistrationScreen from \"./MerchantRegistrationScreen/MerchantRegistrationScreen\";\nimport SignContractScreen from \"./MerchantRegistrationScreen/SignContractScreen/SignContractScreen\";\nimport MerchantFormScreen from \"./MerchantRegistrationScreen/MerchantFormScreen\";\nimport ProviderDetailScreen from \"./ProviderDetailScreen/ProviderDetailScreen\";\n//merchant registration form screen\nimport ServiceInfoForm from \"components/MerchantRegistration/Forms/DetailMerchantForm/ServiceInfoForm\";\nimport RegisteredRepresentativeForm from \"components/MerchantRegistration/Forms/DetailMerchantForm/RegisteredRepresentativeForm\";\nimport BusinessUnitForm from \"components/MerchantRegistration/Forms/DetailMerchantForm/BusinessUnitForm\";\nimport ProductDetailForm from \"components/MerchantRegistration/Forms/DetailMerchantForm/ProductDetailForm\";\nimport BankInfoForm from \"components/MerchantRegistration/Forms/DetailMerchantForm/BankInfoForm\";\nimport MerchantDashboardScreen from \"./MerchantDashboardScreen/MerchantDashboardScreen\";\nimport OrderCheckoutScreen from \"./OrderCheckoutScreen/OrderCheckoutScreen\";\nimport OrderTrackingScreen from \"./OrderTrackingScreen/OrderTrackingScreen\";\nimport SearchScreen from \"./SearchScreen/SearchScreen\";\nimport ShipperScreen from \"./ShipperScreen/ShipperScreen\";\nimport {\n  setCurrentLocation,\n  getUserNotification,\n} from \"store/actions/UserAction/UserAction\";\nimport { getProviderNotification } from \"store/actions/ProviderAction/ProviderAction\";\nconst history = createBrowserHistory();\n\nfunction RootScreen(props) {\n  const getPosition = () => {\n    return new Promise((res, rej) => {\n      navigator.geolocation.getCurrentPosition(res, rej);\n    });\n  };\n  useEffect(() => {\n    async function getUserLocation() {\n      var position = await getPosition();\n      const { latitude, longitude } = position.coords;\n      const endpoint = `https://api.geoapify.com/v1/geocode/reverse?lat=${latitude}&lon=${longitude}&apiKey=05e76b96155e447ba0391d645ce81d27`;\n      let res = await axios.get(endpoint);\n      var address = \"\";\n      if (res.data) {\n        address = res.data?.features[0]?.properties?.formatted || \"\";\n      }\n      props.setCurrentLocation(latitude, longitude, address);\n    }\n    getUserLocation();\n  }, []);\n  useEffect(() => {\n    async function getNotification(role, uid, pid) {\n      if (role === 2) {\n        await props.getProviderNotification(pid);\n        return;\n      }\n      await props.getUserNotification(uid);\n      return;\n    }\n    if (props.user?.profile?.length !== 0 && props.user?.profile?.role)\n      getNotification(\n        props.user.profile.role,\n        props.user.profile.user_id,\n        props.user.provider_id\n      );\n  }, [props.user?.profile?.role]);\n  return (\n    <Fragment>\n      <Router history={history}>\n        <Route exact path=\"/\" component={HomeScreen} />\n        <Route exact path=\"/home\" component={HomeScreen} />\n        <Route exact path=\"/sign-up\" component={UserRegistrationScreen} />\n        <Route exact path=\"/sign-in\" component={UserSignInScreen} />\n        <Route exact path=\"/search\" component={SearchScreen} />\n        <Route path=\"/profile\" component={ProfileScreen} />\n        <Route path=\"/shipper-simulator\" component={ShipperScreen} />\n        <Route\n          exact\n          path=\"/provider-detail/:id\"\n          component={ProviderDetailScreen}\n        />\n        <Route\n          exact\n          path=\"/order-checkout/:uid\"\n          component={OrderCheckoutScreen}\n        />\n        <Route\n          exact\n          path=\"/order-tracking/:order_code\"\n          component={OrderTrackingScreen}\n        />\n        <Route\n          exact\n          path=\"/merchant-registration\"\n          component={MerchantRegistrationScreen}\n        />\n        <Route\n          exact\n          path=\"/merchant-sign-contract\"\n          component={SignContractScreen}\n        />\n        <Route exact path=\"/merchant-registration/:id/service\">\n          <MerchantFormScreen>\n            <ServiceInfoForm />\n          </MerchantFormScreen>\n        </Route>\n        <Route exact path=\"/merchant-registration/:id/representative\">\n          <MerchantFormScreen>\n            <RegisteredRepresentativeForm />\n          </MerchantFormScreen>\n        </Route>\n        <Route exact path=\"/merchant-registration/:id/business-unit\">\n          <MerchantFormScreen>\n            <BusinessUnitForm />\n          </MerchantFormScreen>\n        </Route>\n        <Route exact path=\"/merchant-registration/:id/product-detail\">\n          <MerchantFormScreen>\n            <ProductDetailForm />\n          </MerchantFormScreen>\n        </Route>\n        <Route exact path=\"/merchant-registration/:id/bank\">\n          <MerchantFormScreen>\n            <BankInfoForm />\n          </MerchantFormScreen>\n        </Route>\n        <Route path=\"/merchant-dashboard\" component={MerchantDashboardScreen} />\n\n        <Route exact path=\"/:lang(en|vi)/\" component={HomeScreen} />\n        <Route exact path=\"/:lang(en|vi)/home\" component={HomeScreen} />\n        <Route\n          exact\n          path=\"/:lang(en|vi)/sign-in\"\n          component={UserSignInScreen}\n        />\n        <Route\n          exact\n          path=\"/:lang(en|vi)/sign-up\"\n          component={UserRegistrationScreen}\n        />\n        <Route\n          exact\n          path=\"/:lang(en|vi)/merchant-registration\"\n          component={MerchantRegistrationScreen}\n        />\n      </Router>\n    </Fragment>\n  );\n}\nRootScreen.propTypes = {\n  user: PropTypes.object.isRequired,\n  product: PropTypes.object.isRequired,\n  setCurrentLocation: PropTypes.func.isRequired,\n  getUserNotification: PropTypes.func.isRequired,\n  getProviderNotification: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.UserReducer,\n  product: state.ProductReducer,\n});\nexport default connect(mapStateToProps, {\n  setCurrentLocation,\n  getProviderNotification,\n  getUserNotification,\n})(RootScreen);\n"]},"metadata":{},"sourceType":"module"}