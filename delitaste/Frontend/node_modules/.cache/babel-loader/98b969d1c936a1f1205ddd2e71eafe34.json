{"ast":null,"code":"var _jsxFileName = \"/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/MerchantRegistration/Forms/DetailMerchantForm/ServiceInfoForm.js\",\n    _s = $RefreshSig$();\n\nimport \"./DetailMerchantForm.scss\";\nimport { useEffect, useState, useRef, useCallback, Fragment } from \"react\";\nimport \"style/Common.scss\";\nimport { withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport { Formik, ErrorMessage, Form, Field } from \"formik\";\nimport { validateMerchantForm1 } from \"utils/FormUtils/MerchantFormValidate\";\nimport locations from \"assets/json_location/locations\";\nimport FormError from \"components/Commons/ErrorHandlers/FormError/FormError\";\nimport FormHeader from \"./FormHeader/FormHeader\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\nimport { updateServiceInfoFormAPI } from \"store/actions/ProviderAction/ProviderAction\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAsterisk } from \"@fortawesome/fontawesome-free-solid\";\nimport MapGL from \"react-map-gl\";\nimport Geocoder from \"react-map-gl-geocoder\";\nimport Button from \"components/Commons/Button/Button\";\nimport ButtonGroup from \"components/Commons/Button/ButtonGroup/ButtonGroup\";\nimport StepperArrow from \"assets/stepper-arrow.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialValues = {\n  name: \"\",\n  type: \"\",\n  street: \"\",\n  phone: \"\",\n  city: \"\",\n  district: \"\",\n  ward: \"\",\n  road: \"\"\n};\nconst formHeaderText = {\n  title: \"1. Provider Service Information\",\n  headerText: \"Set up your Tastie's merchant account\",\n  bodyText: \"Your restaurant information will be public on Tastie. Make sure the information is accurrate and visible to the public.\"\n};\n\nfunction ServiceInfoForm(props) {\n  _s();\n\n  const [addressMapbox, setAddressMapbox] = useState(\"\");\n  const [viewport, setViewport] = useState({\n    latitude: 37.7577,\n    longitude: -122.4376,\n    zoom: 8\n  });\n  const mapRef = useRef();\n  const handleViewportChange = useCallback(newViewport => setViewport(newViewport), []); // if you are happy with Geocoder default settings, you can just use handleViewportChange directly\n\n  const handleGeocoderViewportChange = useCallback(newViewport => {\n    const geocoderDefaultOverrides = {\n      transitionDuration: 1000\n    };\n    return handleViewportChange({ ...newViewport,\n      ...geocoderDefaultOverrides\n    });\n  }, []);\n\n  const getFullAddress = (road, city_id, district_id, ward_id) => {\n    const address = [];\n    locations.filter(city => city.code == city_id).map(selectedCity => {\n      address.unshift(selectedCity.name);\n      selectedCity.districts.filter(district => district.code == district_id).map(selectedDistrict => {\n        address.unshift(selectedDistrict.name);\n        selectedDistrict.wards.filter(ward => ward.code == ward_id).map(selectedWard => {\n          address.unshift(selectedWard.name);\n        });\n      });\n    });\n    if (road) address.unshift(road);\n    return address.join(\", \");\n  };\n\n  const handleSubmitForm = async values => {\n    const {\n      phone,\n      city,\n      district,\n      ward,\n      road\n    } = values;\n    let merchantName = [values.name];\n    values.type && merchantName.push(values.type);\n    values.street && merchantName.push(values.street);\n    const formData = {\n      address: getFullAddress(road, city, district, ward),\n      latitude: viewport.latitude,\n      longitude: viewport.longitude,\n      merchant_name: merchantName.join(\" \"),\n      hotline: phone,\n      city_id: city,\n      district_id: district,\n      ward_id: ward,\n      road: road\n    };\n    if (!props.match.params.id) return;\n    const updateStatus = await props.updateServiceInfoFormAPI(props.match.params.id, formData);\n    if (updateStatus) props.history.push(\"representative\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: initialValues,\n    validationSchema: validateMerchantForm1,\n    validateOnChange: false,\n    onSubmit: values => handleSubmitForm(values),\n    children: formikProps => {\n      const {\n        values,\n        errors,\n        touched\n      } = formikProps;\n\n      const searchOnMap = values => {\n        const {\n          road,\n          city,\n          district,\n          ward\n        } = values;\n        const result = getFullAddress(road, city, district, ward);\n        setAddressMapbox(result);\n      };\n\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          className: \"merchant-form-container\",\n          children: [/*#__PURE__*/_jsxDEV(FormHeader, {\n            title: formHeaderText.title,\n            headerText: formHeaderText.headerText,\n            bodyText: formHeaderText.bodyText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"merchant-form-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"merchant-form-field-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"merchant-form-label-wrapper\",\n                children: [\"Merchant name\", \" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  className: \"asterisk\",\n                  icon: faAsterisk\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"merchant-form-input-wrapper form-input-extra-large\",\n                children: [/*#__PURE__*/_jsxDEV(Field, {\n                  className: \"form-text-field\",\n                  style: values.name ? {\n                    backgroundColor: \"#F2F2F2\"\n                  } : {\n                    backgroundColor: \"white\"\n                  },\n                  type: \"text\",\n                  name: \"name\",\n                  placeholder: \"Merchant name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: StepperArrow,\n                  width: 20,\n                  height: 2.5\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  className: \"form-text-field\",\n                  style: values.type ? {\n                    backgroundColor: \"#F2F2F2\"\n                  } : {\n                    backgroundColor: \"white\"\n                  },\n                  type: \"text\",\n                  name: \"type\",\n                  placeholder: \"Restaurant type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: StepperArrow,\n                  width: 20,\n                  height: 2.5\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Field, {\n                  className: \"form-text-field\",\n                  style: values.street ? {\n                    backgroundColor: \"#F2F2F2\"\n                  } : {\n                    backgroundColor: \"white\"\n                  },\n                  type: \"text\",\n                  name: \"street\",\n                  placeholder: \"Street\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-bottom-side-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(FormError, {\n                err: errors.name && touched.name ? errors.name : \"\",\n                spaceBetween: 0,\n                fontSize: 12,\n                fontWeight: \"bold\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"field-description\",\n                children: [\"Merchant name should be named by the name of the restaurant and must be in the same format as provided. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 65\n                }, this), \"E.g: \\\"The Alley - Tra Sua - Ho Tung Mau\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"merchant-form-field-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"merchant-form-label-wrapper\",\n                children: [\"Phone number\", \" \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  className: \"asterisk\",\n                  icon: faAsterisk\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"merchant-form-input-wrapper form-input-medium\",\n                children: /*#__PURE__*/_jsxDEV(Field, {\n                  className: errors.phone ? \"form-text-field error\" : \"form-text-field\",\n                  style: values.phone ? {\n                    backgroundColor: \"#F2F2F2\"\n                  } : {\n                    backgroundColor: \"white\"\n                  },\n                  type: \"text\",\n                  name: \"phone\",\n                  placeholder: \"Enter your merchant phone number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-bottom-side-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(FormError, {\n                err: errors.phone && touched.phone ? errors.phone : \"\",\n                spaceBetween: 0,\n                fontSize: 12,\n                fontWeight: \"bold\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"field-description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"group-field-name\",\n              children: \"Business address:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-bottom-side-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"field-description\",\n                children: \"To make sure your business address is accurate. Please check location displayed on map below.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"location-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group-field-medium\",\n                onClick: () => searchOnMap(values),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"merchant-form-field-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"merchant-form-label-wrapper\",\n                    children: \"City\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"merchant-form-input-wrapper form-input-extra-large\",\n                    children: /*#__PURE__*/_jsxDEV(Field, {\n                      className: \"form-text-field-select\",\n                      style: {\n                        width: \"100%\",\n                        height: \"35px\"\n                      },\n                      as: \"select\",\n                      name: \"city\",\n                      style: values.city ? {\n                        backgroundColor: \"#F2F2F2\"\n                      } : {\n                        backgroundColor: \"white\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        disabled: true,\n                        hidden: true,\n                        children: \"Select a city...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 250,\n                        columnNumber: 27\n                      }, this), locations.map(city => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: city.code,\n                        label: city.name\n                      }, city.code, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 254,\n                        columnNumber: 29\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"merchant-form-field-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"merchant-form-label-wrapper\",\n                    children: \"District\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"merchant-form-input-wrapper form-input-extra-large\",\n                    children: /*#__PURE__*/_jsxDEV(Field, {\n                      className: \"form-text-field-select\",\n                      style: {\n                        width: \"100%\",\n                        height: \"35px\"\n                      },\n                      as: \"select\",\n                      name: \"district\",\n                      style: values.district ? {\n                        backgroundColor: \"#F2F2F2\"\n                      } : {\n                        backgroundColor: \"white\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        disabled: true,\n                        hidden: true,\n                        children: \"Select a district...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 27\n                      }, this), locations.filter(city => city.code == values.city).map(selectedCity => selectedCity.districts.map(district => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: district.code,\n                        label: district.name\n                      }, district.code, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 286,\n                        columnNumber: 33\n                      }, this)))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"merchant-form-field-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"merchant-form-label-wrapper\",\n                    children: \"Ward\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"merchant-form-input-wrapper form-input-extra-large\",\n                    children: /*#__PURE__*/_jsxDEV(Field, {\n                      className: \"form-text-field-select\",\n                      style: {\n                        width: \"100%\",\n                        height: \"35px\"\n                      },\n                      as: \"select\",\n                      name: \"ward\",\n                      style: values.ward ? {\n                        backgroundColor: \"#F2F2F2\"\n                      } : {\n                        backgroundColor: \"white\"\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        disabled: true,\n                        hidden: true,\n                        children: \"Select a ward...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 27\n                      }, this), locations.filter(city => city.code == values.city).map(selectedCity => selectedCity.districts.filter(district => district.code == values.district).map(selectedDistrict => selectedDistrict.wards.map(ward => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: ward.code,\n                        label: ward.name\n                      }, ward.code, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 37\n                      }, this))))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"merchant-form-field-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"merchant-form-label-wrapper\",\n                    children: \"Road\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"merchant-form-input-wrapper form-input-extra-large\",\n                    children: /*#__PURE__*/_jsxDEV(Field, {\n                      className: errors.road ? \"form-text-field error\" : \"form-text-field\",\n                      style: values.road ? {\n                        backgroundColor: \"#F2F2F2\"\n                      } : {\n                        backgroundColor: \"white\"\n                      },\n                      type: \"text\",\n                      name: \"road\",\n                      placeholder: \"House number - Road\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"map-container\",\n                children: /*#__PURE__*/_jsxDEV(MapGL, {\n                  ref: mapRef,\n                  ...viewport,\n                  width: \"100%\",\n                  height: \"320px\",\n                  onViewportChange: handleViewportChange,\n                  mapStyle: \"mapbox://styles/mapbox/streets-v9\",\n                  containerStyle: {\n                    zIndex: 0\n                  },\n                  mapboxApiAccessToken: \"pk.eyJ1Ijoic2FuZ25ndXllbjI4MDMiLCJhIjoiY2t4bmwwMHNvM3h4azJxcGdjNnhlOHdlYSJ9.QFPmkMHDE3wfAJYE1oqyOg\",\n                  children: /*#__PURE__*/_jsxDEV(Geocoder, {\n                    limit: 1,\n                    mapRef: mapRef,\n                    style: {\n                      zIndex: 0\n                    },\n                    onViewportChange: handleGeocoderViewportChange,\n                    inputValue: addressMapbox,\n                    mapboxApiAccessToken: \"pk.eyJ1Ijoic2FuZ25ndXllbjI4MDMiLCJhIjoiY2t4bmwwMHNvM3h4azJxcGdjNnhlOHdlYSJ9.QFPmkMHDE3wfAJYE1oqyOg\",\n                    countries: \"vn\",\n                    position: \"top-left\",\n                    trackProximity: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field-bottom-side-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(FormError, {\n                err: errors.road && touched.road ? errors.road : \"\",\n                spaceBetween: 0,\n                fontSize: 12,\n                fontWeight: \"bold\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn-merchant-registration-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-merchant-registration-back\",\n              children: \"Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-merchant-registration-next\",\n              type: \"submit\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ServiceInfoForm, \"Z8mXesCW6mvu/24QzYRB2m1+nTw=\");\n\n_c = ServiceInfoForm;\nServiceInfoForm.propTypes = {\n  updateServiceInfoFormAPI: PropTypes.func.isRequired\n};\nexport default withRouter(connect(null, {\n  updateServiceInfoFormAPI\n})(ServiceInfoForm));\n\nvar _c;\n\n$RefreshReg$(_c, \"ServiceInfoForm\");","map":{"version":3,"sources":["/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/MerchantRegistration/Forms/DetailMerchantForm/ServiceInfoForm.js"],"names":["useEffect","useState","useRef","useCallback","Fragment","withRouter","PropTypes","connect","Formik","ErrorMessage","Form","Field","validateMerchantForm1","locations","FormError","FormHeader","updateServiceInfoFormAPI","FontAwesomeIcon","faAsterisk","MapGL","Geocoder","Button","ButtonGroup","StepperArrow","initialValues","name","type","street","phone","city","district","ward","road","formHeaderText","title","headerText","bodyText","ServiceInfoForm","props","addressMapbox","setAddressMapbox","viewport","setViewport","latitude","longitude","zoom","mapRef","handleViewportChange","newViewport","handleGeocoderViewportChange","geocoderDefaultOverrides","transitionDuration","getFullAddress","city_id","district_id","ward_id","address","filter","code","map","selectedCity","unshift","districts","selectedDistrict","wards","selectedWard","join","handleSubmitForm","values","merchantName","push","formData","merchant_name","hotline","match","params","id","updateStatus","history","formikProps","errors","touched","searchOnMap","result","backgroundColor","width","height","zIndex","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import \"./DetailMerchantForm.scss\";\nimport { useEffect, useState, useRef, useCallback, Fragment } from \"react\";\nimport \"style/Common.scss\";\nimport { withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n\nimport { Formik, ErrorMessage, Form, Field } from \"formik\";\nimport { validateMerchantForm1 } from \"utils/FormUtils/MerchantFormValidate\";\nimport locations from \"assets/json_location/locations\";\nimport FormError from \"components/Commons/ErrorHandlers/FormError/FormError\";\nimport FormHeader from \"./FormHeader/FormHeader\";\nimport \"react-map-gl-geocoder/dist/mapbox-gl-geocoder.css\";\n\nimport { updateServiceInfoFormAPI } from \"store/actions/ProviderAction/ProviderAction\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAsterisk } from \"@fortawesome/fontawesome-free-solid\";\nimport MapGL from \"react-map-gl\";\nimport Geocoder from \"react-map-gl-geocoder\";\n\nimport Button from \"components/Commons/Button/Button\";\nimport ButtonGroup from \"components/Commons/Button/ButtonGroup/ButtonGroup\";\nimport StepperArrow from \"assets/stepper-arrow.png\";\n\nconst initialValues = {\n  name: \"\",\n  type: \"\",\n  street: \"\",\n  phone: \"\",\n  city: \"\",\n  district: \"\",\n  ward: \"\",\n  road: \"\",\n};\n\nconst formHeaderText = {\n  title: \"1. Provider Service Information\",\n  headerText: \"Set up your Tastie's merchant account\",\n  bodyText:\n    \"Your restaurant information will be public on Tastie. Make sure the information is accurrate and visible to the public.\",\n};\nfunction ServiceInfoForm(props) {\n  const [addressMapbox, setAddressMapbox] = useState(\"\");\n  const [viewport, setViewport] = useState({\n    latitude: 37.7577,\n    longitude: -122.4376,\n    zoom: 8,\n  });\n\n  const mapRef = useRef();\n  const handleViewportChange = useCallback(\n    (newViewport) => setViewport(newViewport),\n    []\n  );\n\n  // if you are happy with Geocoder default settings, you can just use handleViewportChange directly\n  const handleGeocoderViewportChange = useCallback((newViewport) => {\n    const geocoderDefaultOverrides = { transitionDuration: 1000 };\n\n    return handleViewportChange({\n      ...newViewport,\n      ...geocoderDefaultOverrides,\n    });\n  }, []);\n\n  const getFullAddress = (road, city_id, district_id, ward_id) => {\n    const address = [];\n    locations\n      .filter((city) => city.code == city_id)\n      .map((selectedCity) => {\n        address.unshift(selectedCity.name);\n        selectedCity.districts\n          .filter((district) => district.code == district_id)\n          .map((selectedDistrict) => {\n            address.unshift(selectedDistrict.name);\n            selectedDistrict.wards\n              .filter((ward) => ward.code == ward_id)\n              .map((selectedWard) => {\n                address.unshift(selectedWard.name);\n              });\n          });\n      });\n    if (road) address.unshift(road);\n    return address.join(\", \");\n  };\n\n  const handleSubmitForm = async (values) => {\n    const { phone, city, district, ward, road } = values;\n    let merchantName = [values.name];\n    values.type && merchantName.push(values.type);\n    values.street && merchantName.push(values.street);\n    const formData = {\n      address: getFullAddress(road, city, district, ward),\n      latitude: viewport.latitude,\n      longitude: viewport.longitude,\n      merchant_name: merchantName.join(\" \"),\n      hotline: phone,\n      city_id: city,\n      district_id: district,\n      ward_id: ward,\n      road: road,\n    };\n    if (!props.match.params.id) return;\n    const updateStatus = await props.updateServiceInfoFormAPI(\n      props.match.params.id,\n      formData\n    );\n    if (updateStatus) props.history.push(\"representative\");\n  };\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={validateMerchantForm1}\n      validateOnChange={false}\n      onSubmit={(values) => handleSubmitForm(values)}\n    >\n      {(formikProps) => {\n        const { values, errors, touched } = formikProps;\n\n        const searchOnMap = (values) => {\n          const { road, city, district, ward } = values;\n          const result = getFullAddress(road, city, district, ward);\n          setAddressMapbox(result);\n        };\n        return (\n          <Fragment>\n            <Form className=\"merchant-form-container\">\n              <FormHeader\n                title={formHeaderText.title}\n                headerText={formHeaderText.headerText}\n                bodyText={formHeaderText.bodyText}\n              />\n              <div className=\"merchant-form-wrapper\">\n                <div className=\"merchant-form-field-wrapper\">\n                  <div className=\"merchant-form-label-wrapper\">\n                    Merchant name{\" \"}\n                    <FontAwesomeIcon className=\"asterisk\" icon={faAsterisk} />\n                  </div>\n                  <div className=\"merchant-form-input-wrapper form-input-extra-large\">\n                    <Field\n                      className=\"form-text-field\"\n                      style={\n                        values.name\n                          ? { backgroundColor: \"#F2F2F2\" }\n                          : { backgroundColor: \"white\" }\n                      }\n                      type=\"text\"\n                      name=\"name\"\n                      placeholder=\"Merchant name\"\n                    />\n                    <img src={StepperArrow} width={20} height={2.5} />\n                    <Field\n                      className=\"form-text-field\"\n                      style={\n                        values.type\n                          ? { backgroundColor: \"#F2F2F2\" }\n                          : { backgroundColor: \"white\" }\n                      }\n                      type=\"text\"\n                      name=\"type\"\n                      placeholder=\"Restaurant type\"\n                    />\n                    <img src={StepperArrow} width={20} height={2.5} />\n                    <Field\n                      className=\"form-text-field\"\n                      style={\n                        values.street\n                          ? { backgroundColor: \"#F2F2F2\" }\n                          : { backgroundColor: \"white\" }\n                      }\n                      type=\"text\"\n                      name=\"street\"\n                      placeholder=\"Street\"\n                    />\n                  </div>\n                </div>\n                <div className=\"field-bottom-side-wrapper\">\n                  <FormError\n                    err={errors.name && touched.name ? errors.name : \"\"}\n                    spaceBetween={0}\n                    fontSize={12}\n                    fontWeight={\"bold\"}\n                  />\n                  <span className=\"field-description\">\n                    Merchant name should be named by the name of the restaurant\n                    and must be in the same format as provided. <br />\n                    E.g: \"The Alley - Tra Sua - Ho Tung Mau\"\n                  </span>\n                </div>\n                <div className=\"merchant-form-field-wrapper\">\n                  <div className=\"merchant-form-label-wrapper\">\n                    Phone number{\" \"}\n                    <FontAwesomeIcon className=\"asterisk\" icon={faAsterisk} />\n                  </div>\n                  <div className=\"merchant-form-input-wrapper form-input-medium\">\n                    <Field\n                      className={\n                        errors.phone\n                          ? \"form-text-field error\"\n                          : \"form-text-field\"\n                      }\n                      style={\n                        values.phone\n                          ? { backgroundColor: \"#F2F2F2\" }\n                          : { backgroundColor: \"white\" }\n                      }\n                      type=\"text\"\n                      name=\"phone\"\n                      placeholder=\"Enter your merchant phone number\"\n                    />\n                  </div>\n                </div>\n                <div className=\"field-bottom-side-wrapper\">\n                  <FormError\n                    err={errors.phone && touched.phone ? errors.phone : \"\"}\n                    spaceBetween={0}\n                    fontSize={12}\n                    fontWeight={\"bold\"}\n                  />\n                  <span className=\"field-description\"></span>\n                </div>\n\n                <div className=\"group-field-name\">Business address:</div>\n                <div className=\"field-bottom-side-wrapper\">\n                  <span className=\"field-description\">\n                    To make sure your business address is accurate. Please check\n                    location displayed on map below.\n                  </span>\n                </div>\n                <div className=\"location-wrapper\">\n                  <div\n                    className=\"group-field-medium\"\n                    onClick={() => searchOnMap(values)}\n                  >\n                    <div className=\"merchant-form-field-wrapper\">\n                      <div className=\"merchant-form-label-wrapper\">City</div>\n                      <div className=\"merchant-form-input-wrapper form-input-extra-large\">\n                        <Field\n                          className=\"form-text-field-select\"\n                          style={{ width: \"100%\", height: \"35px\" }}\n                          as=\"select\"\n                          name=\"city\"\n                          style={\n                            values.city\n                              ? { backgroundColor: \"#F2F2F2\" }\n                              : { backgroundColor: \"white\" }\n                          }\n                        >\n                          <option value=\"\" disabled hidden>\n                            Select a city...\n                          </option>\n                          {locations.map((city) => (\n                            <option\n                              key={city.code}\n                              value={city.code}\n                              label={city.name}\n                            />\n                          ))}\n                        </Field>\n                      </div>\n                    </div>\n                    <div className=\"merchant-form-field-wrapper\">\n                      <div className=\"merchant-form-label-wrapper\">\n                        District\n                      </div>\n                      <div className=\"merchant-form-input-wrapper form-input-extra-large\">\n                        <Field\n                          className=\"form-text-field-select\"\n                          style={{ width: \"100%\", height: \"35px\" }}\n                          as=\"select\"\n                          name=\"district\"\n                          style={\n                            values.district\n                              ? { backgroundColor: \"#F2F2F2\" }\n                              : { backgroundColor: \"white\" }\n                          }\n                        >\n                          <option value=\"\" disabled hidden>\n                            Select a district...\n                          </option>\n                          {locations\n                            .filter((city) => city.code == values.city)\n                            .map((selectedCity) =>\n                              selectedCity.districts.map((district) => (\n                                <option\n                                  key={district.code}\n                                  value={district.code}\n                                  label={district.name}\n                                />\n                              ))\n                            )}\n                        </Field>\n                      </div>\n                    </div>\n                    <div className=\"merchant-form-field-wrapper\">\n                      <div className=\"merchant-form-label-wrapper\">Ward</div>\n                      <div className=\"merchant-form-input-wrapper form-input-extra-large\">\n                        <Field\n                          className=\"form-text-field-select\"\n                          style={{ width: \"100%\", height: \"35px\" }}\n                          as=\"select\"\n                          name=\"ward\"\n                          style={\n                            values.ward\n                              ? { backgroundColor: \"#F2F2F2\" }\n                              : { backgroundColor: \"white\" }\n                          }\n                        >\n                          <option value=\"\" disabled hidden>\n                            Select a ward...\n                          </option>\n                          {locations\n                            .filter((city) => city.code == values.city)\n                            .map((selectedCity) =>\n                              selectedCity.districts\n                                .filter(\n                                  (district) => district.code == values.district\n                                )\n                                .map((selectedDistrict) =>\n                                  selectedDistrict.wards.map((ward) => (\n                                    <option\n                                      key={ward.code}\n                                      value={ward.code}\n                                      label={ward.name}\n                                    />\n                                  ))\n                                )\n                            )}\n                        </Field>\n                      </div>\n                    </div>\n                    <div className=\"merchant-form-field-wrapper\">\n                      <div className=\"merchant-form-label-wrapper\">Road</div>\n                      <div className=\"merchant-form-input-wrapper form-input-extra-large\">\n                        <Field\n                          className={\n                            errors.road\n                              ? \"form-text-field error\"\n                              : \"form-text-field\"\n                          }\n                          style={\n                            values.road\n                              ? { backgroundColor: \"#F2F2F2\" }\n                              : { backgroundColor: \"white\" }\n                          }\n                          type=\"text\"\n                          name=\"road\"\n                          placeholder=\"House number - Road\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"map-container\">\n                    <MapGL\n                      ref={mapRef}\n                      {...viewport}\n                      width=\"100%\"\n                      height=\"320px\"\n                      onViewportChange={handleViewportChange}\n                      mapStyle=\"mapbox://styles/mapbox/streets-v9\"\n                      containerStyle={{\n                        zIndex: 0,\n                      }}\n                      mapboxApiAccessToken={\n                        \"pk.eyJ1Ijoic2FuZ25ndXllbjI4MDMiLCJhIjoiY2t4bmwwMHNvM3h4azJxcGdjNnhlOHdlYSJ9.QFPmkMHDE3wfAJYE1oqyOg\"\n                      }\n                    >\n                      <Geocoder\n                        limit={1}\n                        mapRef={mapRef}\n                        style={{ zIndex: 0 }}\n                        onViewportChange={handleGeocoderViewportChange}\n                        inputValue={addressMapbox}\n                        mapboxApiAccessToken={\n                          \"pk.eyJ1Ijoic2FuZ25ndXllbjI4MDMiLCJhIjoiY2t4bmwwMHNvM3h4azJxcGdjNnhlOHdlYSJ9.QFPmkMHDE3wfAJYE1oqyOg\"\n                        }\n                        countries={\"vn\"}\n                        position={\"top-left\"}\n                        trackProximity={true}\n                      />\n                    </MapGL>\n                  </div>\n                </div>\n\n                <div className=\"field-bottom-side-wrapper\">\n                  <FormError\n                    err={errors.road && touched.road ? errors.road : \"\"}\n                    spaceBetween={0}\n                    fontSize={12}\n                    fontWeight={\"bold\"}\n                  />\n                </div>\n              </div>\n              <div className=\"btn-merchant-registration-wrapper\">\n                <button className=\"btn-merchant-registration-back\">Back</button>\n                <button\n                  className=\"btn-merchant-registration-next\"\n                  type=\"submit\"\n                >\n                  Save\n                </button>\n              </div>\n            </Form>\n          </Fragment>\n        );\n      }}\n    </Formik>\n  );\n}\n\nServiceInfoForm.propTypes = {\n  updateServiceInfoFormAPI: PropTypes.func.isRequired,\n};\n\nexport default withRouter(\n  connect(null, {\n    updateServiceInfoFormAPI,\n  })(ServiceInfoForm)\n);\n"]},"metadata":{},"sourceType":"module"}