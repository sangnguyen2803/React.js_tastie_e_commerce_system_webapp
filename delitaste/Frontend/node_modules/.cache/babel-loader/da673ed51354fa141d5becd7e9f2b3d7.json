{"ast":null,"code":"import axios from \"axios\";\nimport { CREATE_MERCHANT, UPDATE_SERVICE_INFO_FORM, UPDATE_REPRESENTATIVE_INFO_FORM, UPDATE_BUSINESS_UNIT_INFO_FORM, UPDATE_PRODUCT_DETAIL_INFO_FORM, UPDATE_BANK_INFO_FORM, GET_PROVIDER_DETAIL, SET_DASHBOARD_PROVIDER, SET_ORDER_LIST, SET_TOP_PRODUCT_BY_SALES, SET_TOP_PRODUCT_BY_UNIT, GET_NOTIFICATION, ADD_ORDER_TO_ORDER_LIST, SET_TOP_CATEGORY_BY_UNIT, UPDATE_ORDER_IN_ORDER_LIST } from \"store/actions/types\"; //Create provider\n\nexport const createMerchantAPI = id => async dispatch => {\n  const registered_at = new Date().toISOString().slice(0, 10);\n  const provider_update_at = new Date().toISOString().slice(0, 10);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    user_id: id,\n    registered_at,\n    provider_update_at\n  });\n\n  try {\n    const endpoint = \"/v1/api/provider/sign-contract\";\n    console.log(body);\n    const res = await axios.post(endpoint, body, config);\n\n    if (res === null || res === void 0 ? void 0 : res.data.state) {\n      dispatch({\n        type: CREATE_MERCHANT,\n        payload: {\n          merchantId: res.data.providerID\n        }\n      });\n      return res.data.providerID;\n    }\n\n    return -1;\n  } catch (err) {\n    return -1;\n  }\n}; // Update form 1:\n\nexport const updateServiceInfoFormAPI = (id, data) => async dispatch => {\n  data.update_at = new Date().toISOString().slice(0, 10);\n  data.registered_at = new Date().toISOString().slice(0, 10);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify(data);\n\n  try {\n    var _res$data;\n\n    const endpoint = `/v1/api/provider/register/${id}/basic-info`;\n    const res = await axios.post(endpoint, body, config);\n\n    if ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.state) {\n      dispatch({\n        type: UPDATE_SERVICE_INFO_FORM,\n        payload: {\n          isServiceFormSubmitted: true\n        }\n      });\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    console.log(err.response.data.errors);\n    return false;\n  }\n}; // Update form 2\n\nexport const updateRepresentativeInfoFormAPI = (id, data) => async dispatch => {\n  data.update_at = new Date().toISOString().slice(0, 10);\n  data.create_at = new Date().toISOString().slice(0, 10);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify(data);\n  console.log(body);\n\n  try {\n    var _res$data2;\n\n    const endpoint = `/v1/api/provider/register/${id}/representive`;\n    const res = await axios.post(endpoint, body, config);\n\n    if ((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.state) {\n      dispatch({\n        type: UPDATE_REPRESENTATIVE_INFO_FORM,\n        payload: {\n          isRepresentativeInfoFormSubmitted: true\n        }\n      });\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    console.log(err.response.data.errors);\n    return false;\n  }\n}; // Update form 3\n\nexport const getCategoryAPI = type => async dispatch => {\n  try {\n    var _res$data3;\n\n    const endpoint = `/v1/api/provider/register/${type}/get-categories`;\n    const res = await axios.get(endpoint);\n\n    if ((_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : _res$data3.status) {\n      if (!res.data.result) return [];\n      return res.data.result;\n    }\n  } catch (err) {\n    console.log(err.response.data.errors);\n  }\n};\nexport const updateBusinessUnitInfoFormAPI = (id, data) => async dispatch => {\n  data.update_at = new Date().toISOString().slice(0, 10);\n  data.create_at = new Date().toISOString().slice(0, 10);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify(data);\n\n  try {\n    var _res$data4;\n\n    console.log(\"here\", body);\n    const endpoint = `/v1/api/provider/register/${id}/detail-info`;\n    const res = await axios.post(endpoint, body, config);\n    console.log(res);\n\n    if ((_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.state) {\n      dispatch({\n        type: UPDATE_BUSINESS_UNIT_INFO_FORM,\n        payload: {\n          isBusinessUnitInfoFormSubmitted: true\n        }\n      });\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    console.log(err.response.data.errors);\n    return false;\n  }\n}; // Update form 4\n\nexport const updateProductDetailInfoFormAPI = (id, data) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify(data);\n\n  try {\n    var _res$data5;\n\n    const endpoint = `/v1/api/provider/register/${id}/menu-photo`;\n    const res = await axios.post(endpoint, body, config);\n    console.log(res);\n\n    if ((_res$data5 = res.data) === null || _res$data5 === void 0 ? void 0 : _res$data5.state) {\n      dispatch({\n        type: UPDATE_PRODUCT_DETAIL_INFO_FORM,\n        payload: {\n          isProductDetailInfoFormSubmitted: true\n        }\n      });\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    console.log(err.response.data.errors);\n    return false;\n  }\n}; // Update form 5\n\nexport const updateBankInfoFormAPI = (id, data) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }; //update user_role to merchant account\n\n  data.user_role = 2;\n  data.update_at = new Date().toISOString().split(\"T\")[0];\n  const body = JSON.stringify(data);\n\n  try {\n    var _res$data6;\n\n    console.log(body);\n    const endpoint = `/v1/api/provider/register/${id}/bank-info`;\n    const res = await axios.post(endpoint, body, config);\n    console.log(res);\n\n    if ((_res$data6 = res.data) === null || _res$data6 === void 0 ? void 0 : _res$data6.state) {\n      dispatch({\n        type: UPDATE_BANK_INFO_FORM,\n        payload: {\n          isBankInfoFormSubmitted: true\n        }\n      });\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    console.log(err.response.data.errors);\n    return false;\n  }\n}; //get provider by id\n//type 1 : get provider for customer view - type 2 : get provider for provider dashboard view\n\nexport const getProviderByIdAPI = (provider_id, type, user_id) => async dispatch => {\n  if (!type) type = 1;\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    user_id: user_id || -1,\n    provider_id: provider_id\n  });\n\n  try {\n    var _res$data7;\n\n    const endpoint = `/v1/api/provider/dashboard/get-info`;\n    const res = await axios.post(endpoint, body, config);\n\n    if ((_res$data7 = res.data) === null || _res$data7 === void 0 ? void 0 : _res$data7.state) {\n      var _res$data$provider_in, _res$data8;\n\n      if (!((_res$data$provider_in = res.data.provider_info) === null || _res$data$provider_in === void 0 ? void 0 : _res$data$provider_in.data)) return [];\n\n      if (type === 1) {\n        dispatch({\n          type: GET_PROVIDER_DETAIL,\n          payload: {\n            currentProvider: res.data.provider_info.data\n          }\n        });\n      }\n\n      if (type === 2) {\n        dispatch({\n          type: SET_DASHBOARD_PROVIDER,\n          payload: {\n            provider: res.data.provider_info.data,\n            operation: res.data.provider_info.operation_time\n          }\n        });\n      }\n\n      return (_res$data8 = res.data) === null || _res$data8 === void 0 ? void 0 : _res$data8.provider_info;\n    }\n  } catch (err) {\n    var _err$response$data;\n\n    console.log((_err$response$data = err.response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.errors);\n  }\n};\nexport const getScheduleTime = id => async dispatch => {\n  try {\n    const endpoint = `/v1/api/tastie/checkout/get_schedule_time/${id}`;\n    const res = await axios.get(endpoint);\n\n    if (res.data) {\n      return res.data.response;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const addDiscountAPI = data => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify(data);\n\n  try {\n    var _res$data9;\n\n    const endpoint = \"/v1/api/provider/dashboard/add-discount\";\n    const res = await axios.post(endpoint, body, config);\n    console.log(res.data);\n\n    if ((_res$data9 = res.data) === null || _res$data9 === void 0 ? void 0 : _res$data9.status) {\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    var _err$response$data2;\n\n    console.log((_err$response$data2 = err.response.data) === null || _err$response$data2 === void 0 ? void 0 : _err$response$data2.errors);\n    return false;\n  }\n};\nexport const updateDiscountAPI = data => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify(data);\n\n  try {\n    var _res$data10;\n\n    const endpoint = \"/v1/api/provider/dashboard/update-discount\";\n    const res = await axios.post(endpoint, body, config);\n    console.log(res.data);\n\n    if ((_res$data10 = res.data) === null || _res$data10 === void 0 ? void 0 : _res$data10.status) {\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    var _err$response$data3;\n\n    console.log((_err$response$data3 = err.response.data) === null || _err$response$data3 === void 0 ? void 0 : _err$response$data3.errors);\n    return false;\n  }\n};\nexport const getPromotionClaims = id => async dispatch => {\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-voucher-claims/${id}`;\n    const res = await axios.get(endpoint);\n\n    if (res.data) {\n      return res.data.count;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getPromotionCosts = id => async dispatch => {\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-voucher-costs/${id}`;\n    const res = await axios.get(endpoint);\n\n    if (res.data) {\n      return res.data.total_cost;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const applyDiscountProviderAPI = (pid, did) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    discount_id: did,\n    product_id: pid\n  });\n\n  try {\n    var _res$data11;\n\n    const endpoint = \"/v1/api/provider/dashboard/apply-discount-to-product\";\n    const res = await axios.post(endpoint, body, config);\n\n    if ((_res$data11 = res.data) === null || _res$data11 === void 0 ? void 0 : _res$data11.status) {\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    var _err$response$data4;\n\n    console.log((_err$response$data4 = err.response.data) === null || _err$response$data4 === void 0 ? void 0 : _err$response$data4.errors);\n    return false;\n  }\n};\nexport const addPromotionAPI = data => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify(data);\n\n  try {\n    var _res$data12;\n\n    const endpoint = \"/v1/api/tastie/provider/add-promotion\";\n    const res = await axios.post(endpoint, body, config);\n\n    if ((_res$data12 = res.data) === null || _res$data12 === void 0 ? void 0 : _res$data12.status) {\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    var _err$response$data5;\n\n    console.log((_err$response$data5 = err.response.data) === null || _err$response$data5 === void 0 ? void 0 : _err$response$data5.errors);\n    return false;\n  }\n};\nexport const updatePromotionAPI = data => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify(data);\n\n  try {\n    var _res$data13;\n\n    const endpoint = \"/v1/api/tastie/provider/update-promotion\";\n    const res = await axios.post(endpoint, body, config);\n\n    if ((_res$data13 = res.data) === null || _res$data13 === void 0 ? void 0 : _res$data13.status) {\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    var _err$response$data6;\n\n    console.log((_err$response$data6 = err.response.data) === null || _err$response$data6 === void 0 ? void 0 : _err$response$data6.errors);\n    return false;\n  }\n};\nexport const getAllPromotionAPI = id => async dispatch => {\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-all-promos/${id}`;\n    const res = await axios.get(endpoint);\n\n    if (res.data.status) {\n      return res.data.response;\n    }\n\n    return {};\n  } catch (err) {\n    console.log(err);\n    return {};\n  }\n};\nexport const getAllEcouponAPI = id => async dispatch => {\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-all-ecoupon/${id}`;\n    const res = await axios.get(endpoint);\n\n    if (res.data.status) {\n      return res.data.response;\n    }\n\n    return {};\n  } catch (err) {\n    console.log(err);\n    return {};\n  }\n};\nexport const subscribeEcouponAPI = (eid, pid) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    ecoupon_id: eid,\n    provider_id: pid\n  });\n\n  try {\n    const endpoint = `/v1/api/provider/dashboard/register-ecoupon`;\n    const res = await axios.post(endpoint, body, config);\n\n    if (res.data.status) {\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    return false;\n  }\n};\nexport const addMenuCategoryAPI = (id, name) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    provider_id: id,\n    menu_name: name\n  });\n  console.log(body);\n\n  try {\n    const endpoint = `/v1/api/provider/dashboard/menu-overview/add-menu-category`;\n    const res = await axios.post(endpoint, body, config);\n\n    if (res.data.status) {\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    return false;\n  }\n};\nexport const getAllOrderAPI = (id, limit, offset) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    provider_id: id,\n    limit: limit,\n    offset: offset\n  });\n\n  try {\n    const endpoint = `/v1/api/provider/order/get-all-order`;\n    const res = await axios.post(endpoint, body, config);\n\n    if (res.data.status) {\n      let orders = res.data.response.map(item => {\n        return {\n          order_id: item.order_id,\n          order_code: item.order_code,\n          total_amount: item.total_amount,\n          status: item[\"MAX(os.order_status_name)\"],\n          user_first_name: item.user_first_name,\n          user_last_name: item.user_last_name,\n          update_at: item.update_at,\n          payment_name: item.payment_name,\n          subtotal: item.subtotal\n        };\n      });\n      dispatch({\n        type: SET_ORDER_LIST,\n        payload: {\n          orderList: orders\n        }\n      });\n      return res.data.response;\n    }\n\n    return [];\n  } catch (err) {\n    return [];\n  }\n};\nexport const getProviderTopProductByUnitAPI = (id, start_month, end_month, year) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    provider_id: id,\n    start_month,\n    end_month,\n    year\n  });\n\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-top-product-by-unit-by-provider`;\n    const res = await axios.post(endpoint, body, config);\n\n    if (res.data.status) {\n      dispatch({\n        type: SET_TOP_PRODUCT_BY_UNIT,\n        payload: {\n          topByUnit: res.data.list_product\n        }\n      });\n      return res.data.list_product;\n    }\n\n    return [];\n  } catch (err) {\n    console.log(err);\n    return [];\n  }\n};\nexport const getProviderTopCategoryByUnitAPI = (id, start_month, end_month, year) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    provider_id: id,\n    start_month,\n    end_month,\n    year\n  });\n\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-top-category-by-unit-by-provider`;\n    const res = await axios.post(endpoint, body, config);\n\n    if (res.data.status) {\n      dispatch({\n        type: SET_TOP_CATEGORY_BY_UNIT,\n        payload: {\n          topCategory: res.data.response\n        }\n      });\n      return res.data.list_product;\n    }\n\n    return [];\n  } catch (err) {\n    console.log(err);\n    return [];\n  }\n};\nexport const getProviderTopProductBySalesAPI = (id, start_month, end_month, year) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    provider_id: id,\n    start_month,\n    end_month,\n    year\n  });\n\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-top-product-by-sales-by-provider`;\n    const res = await axios.post(endpoint, body, config);\n\n    if (res.data.status) {\n      dispatch({\n        type: SET_TOP_PRODUCT_BY_SALES,\n        payload: {\n          topBySales: res.data.list_product\n        }\n      });\n      return res.data.list_product;\n    }\n\n    return [];\n  } catch (err) {\n    console.log(err);\n    return [];\n  }\n};\nexport const getProviderRevenueByTime = (id, start_month, end_month, year) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const result = [];\n\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-provider-revenue-by-time`;\n    let month = new Date().getMonth();\n    let count = 12;\n    let body = {};\n\n    while (count > 0) {\n      if (month + 1 === 0) {\n        year -= 1;\n        month += 12;\n      }\n\n      start_month = month + 1;\n      end_month = month + 1;\n      body = JSON.stringify({\n        provider_id: id,\n        start_month,\n        end_month,\n        year\n      });\n      const res = await axios.post(endpoint, body, config);\n      if (res.data.status) result.unshift(res.data.total_revenue);\n      month -= 1;\n      count -= 1;\n    }\n\n    return result;\n  } catch (err) {\n    console.log(err);\n    return 0;\n  }\n};\nexport const getProviderOrderByTime = (id, start_month, end_month, year) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const result = [];\n\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-provider-number-order-by-time`;\n    let month = new Date().getMonth();\n    let count = 12;\n    let body = {};\n\n    while (count > 0) {\n      if (month + 1 === 0) {\n        year -= 1;\n        month += 12;\n      }\n\n      start_month = month + 1;\n      end_month = month + 1;\n      body = JSON.stringify({\n        provider_id: id,\n        start_month,\n        end_month,\n        year\n      });\n      const res = await axios.post(endpoint, body, config);\n      if (res.data.status) result.unshift(res.data.number_order);\n      month -= 1;\n      count -= 1;\n    }\n\n    console.log(result);\n    return result;\n  } catch (err) {\n    console.log(err);\n    return 0;\n  }\n};\nexport const updateProviderDetailAPI = (id, data) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    provider_status: data.status,\n    day: \"Monday\",\n    open_time: \"09:15:00\",\n    close_time: \"20:30:00\",\n    estimated_cooking_time: data.ect,\n    update_at: data.update_at\n  });\n\n  try {\n    const endpoint = `/v1/api/provider/dashboard/${id}/update-provider`;\n    const res = await axios.post(endpoint, body, config);\n\n    if (res.data.status) {\n      return true;\n    }\n\n    return false;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n};\nexport const getProviderNotification = pid => async dispatch => {\n  try {\n    var _res$data14;\n\n    const endpoint = `/v1/api/tastie/order/get-all-notification-to-provider/${pid}`;\n    const res = await axios.get(endpoint);\n\n    if ((_res$data14 = res.data) === null || _res$data14 === void 0 ? void 0 : _res$data14.status) {\n      dispatch({\n        type: GET_NOTIFICATION,\n        payload: {\n          notifications: res.data.response\n        }\n      });\n      return res.data.response;\n    }\n  } catch (err) {\n    return [];\n  }\n};\nexport const appendOrderList = order => dispatch => {\n  dispatch({\n    type: ADD_ORDER_TO_ORDER_LIST,\n    payload: {\n      order: order\n    }\n  });\n};\nexport const updateOrderList = order => dispatch => {\n  dispatch({\n    type: UPDATE_ORDER_IN_ORDER_LIST,\n    payload: {\n      order: order\n    }\n  });\n};\nexport const getCustomerReviewAPI = pid => async dispatch => {\n  try {\n    var _res$data15;\n\n    const endpoint = `/v1/api/tastie/store/customer_review/${pid}`;\n    const res = await axios.get(endpoint);\n\n    if ((_res$data15 = res.data) === null || _res$data15 === void 0 ? void 0 : _res$data15.status) {\n      return res.data.response;\n    }\n  } catch (err) {\n    return [];\n  }\n};","map":{"version":3,"sources":["/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/store/actions/ProviderAction/ProviderAction.js"],"names":["axios","CREATE_MERCHANT","UPDATE_SERVICE_INFO_FORM","UPDATE_REPRESENTATIVE_INFO_FORM","UPDATE_BUSINESS_UNIT_INFO_FORM","UPDATE_PRODUCT_DETAIL_INFO_FORM","UPDATE_BANK_INFO_FORM","GET_PROVIDER_DETAIL","SET_DASHBOARD_PROVIDER","SET_ORDER_LIST","SET_TOP_PRODUCT_BY_SALES","SET_TOP_PRODUCT_BY_UNIT","GET_NOTIFICATION","ADD_ORDER_TO_ORDER_LIST","SET_TOP_CATEGORY_BY_UNIT","UPDATE_ORDER_IN_ORDER_LIST","createMerchantAPI","id","dispatch","registered_at","Date","toISOString","slice","provider_update_at","config","headers","body","JSON","stringify","user_id","endpoint","console","log","res","post","data","state","type","payload","merchantId","providerID","err","updateServiceInfoFormAPI","update_at","isServiceFormSubmitted","response","errors","updateRepresentativeInfoFormAPI","create_at","isRepresentativeInfoFormSubmitted","getCategoryAPI","get","status","result","updateBusinessUnitInfoFormAPI","isBusinessUnitInfoFormSubmitted","updateProductDetailInfoFormAPI","isProductDetailInfoFormSubmitted","updateBankInfoFormAPI","user_role","split","isBankInfoFormSubmitted","getProviderByIdAPI","provider_id","provider_info","currentProvider","provider","operation","operation_time","getScheduleTime","addDiscountAPI","updateDiscountAPI","getPromotionClaims","count","getPromotionCosts","total_cost","applyDiscountProviderAPI","pid","did","discount_id","product_id","addPromotionAPI","updatePromotionAPI","getAllPromotionAPI","getAllEcouponAPI","subscribeEcouponAPI","eid","ecoupon_id","addMenuCategoryAPI","name","menu_name","getAllOrderAPI","limit","offset","orders","map","item","order_id","order_code","total_amount","user_first_name","user_last_name","payment_name","subtotal","orderList","getProviderTopProductByUnitAPI","start_month","end_month","year","topByUnit","list_product","getProviderTopCategoryByUnitAPI","topCategory","getProviderTopProductBySalesAPI","topBySales","getProviderRevenueByTime","month","getMonth","unshift","total_revenue","getProviderOrderByTime","number_order","updateProviderDetailAPI","provider_status","day","open_time","close_time","estimated_cooking_time","ect","getProviderNotification","notifications","appendOrderList","order","updateOrderList","getCustomerReviewAPI"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nimport {\n  CREATE_MERCHANT,\n  UPDATE_SERVICE_INFO_FORM,\n  UPDATE_REPRESENTATIVE_INFO_FORM,\n  UPDATE_BUSINESS_UNIT_INFO_FORM,\n  UPDATE_PRODUCT_DETAIL_INFO_FORM,\n  UPDATE_BANK_INFO_FORM,\n  GET_PROVIDER_DETAIL,\n  SET_DASHBOARD_PROVIDER,\n  SET_ORDER_LIST,\n  SET_TOP_PRODUCT_BY_SALES,\n  SET_TOP_PRODUCT_BY_UNIT,\n  GET_NOTIFICATION,\n  ADD_ORDER_TO_ORDER_LIST,\n  SET_TOP_CATEGORY_BY_UNIT,\n  UPDATE_ORDER_IN_ORDER_LIST,\n} from \"store/actions/types\";\n\n//Create provider\nexport const createMerchantAPI = (id) => async (dispatch) => {\n  const registered_at = new Date().toISOString().slice(0, 10);\n  const provider_update_at = new Date().toISOString().slice(0, 10);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify({\n    user_id: id,\n    registered_at,\n    provider_update_at,\n  });\n  try {\n    const endpoint = \"/v1/api/provider/sign-contract\";\n    console.log(body);\n    const res = await axios.post(endpoint, body, config);\n    if (res?.data.state) {\n      dispatch({\n        type: CREATE_MERCHANT,\n        payload: { merchantId: res.data.providerID },\n      });\n      return res.data.providerID;\n    }\n    return -1;\n  } catch (err) {\n    return -1;\n  }\n};\n// Update form 1:\nexport const updateServiceInfoFormAPI = (id, data) => async (dispatch) => {\n  data.update_at = new Date().toISOString().slice(0, 10);\n  data.registered_at = new Date().toISOString().slice(0, 10);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify(data);\n  try {\n    const endpoint = `/v1/api/provider/register/${id}/basic-info`;\n    const res = await axios.post(endpoint, body, config);\n    if (res.data?.state) {\n      dispatch({\n        type: UPDATE_SERVICE_INFO_FORM,\n        payload: { isServiceFormSubmitted: true },\n      });\n      return true;\n    }\n    return false;\n  } catch (err) {\n    console.log(err.response.data.errors);\n    return false;\n  }\n};\n// Update form 2\nexport const updateRepresentativeInfoFormAPI =\n  (id, data) => async (dispatch) => {\n    data.update_at = new Date().toISOString().slice(0, 10);\n    data.create_at = new Date().toISOString().slice(0, 10);\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const body = JSON.stringify(data);\n\n    console.log(body);\n    try {\n      const endpoint = `/v1/api/provider/register/${id}/representive`;\n      const res = await axios.post(endpoint, body, config);\n      if (res.data?.state) {\n        dispatch({\n          type: UPDATE_REPRESENTATIVE_INFO_FORM,\n          payload: { isRepresentativeInfoFormSubmitted: true },\n        });\n        return true;\n      }\n      return false;\n    } catch (err) {\n      console.log(err.response.data.errors);\n      return false;\n    }\n  };\n\n// Update form 3\nexport const getCategoryAPI = (type) => async (dispatch) => {\n  try {\n    const endpoint = `/v1/api/provider/register/${type}/get-categories`;\n    const res = await axios.get(endpoint);\n    if (res.data?.status) {\n      if (!res.data.result) return [];\n      return res.data.result;\n    }\n  } catch (err) {\n    console.log(err.response.data.errors);\n  }\n};\n\nexport const updateBusinessUnitInfoFormAPI = (id, data) => async (dispatch) => {\n  data.update_at = new Date().toISOString().slice(0, 10);\n  data.create_at = new Date().toISOString().slice(0, 10);\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  const body = JSON.stringify(data);\n  try {\n    console.log(\"here\", body);\n    const endpoint = `/v1/api/provider/register/${id}/detail-info`;\n    const res = await axios.post(endpoint, body, config);\n    console.log(res);\n    if (res.data?.state) {\n      dispatch({\n        type: UPDATE_BUSINESS_UNIT_INFO_FORM,\n        payload: { isBusinessUnitInfoFormSubmitted: true },\n      });\n      return true;\n    }\n    return false;\n  } catch (err) {\n    console.log(err.response.data.errors);\n    return false;\n  }\n};\n// Update form 4\nexport const updateProductDetailInfoFormAPI =\n  (id, data) => async (dispatch) => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const body = JSON.stringify(data);\n    try {\n      const endpoint = `/v1/api/provider/register/${id}/menu-photo`;\n      const res = await axios.post(endpoint, body, config);\n      console.log(res);\n      if (res.data?.state) {\n        dispatch({\n          type: UPDATE_PRODUCT_DETAIL_INFO_FORM,\n          payload: { isProductDetailInfoFormSubmitted: true },\n        });\n        return true;\n      }\n      return false;\n    } catch (err) {\n      console.log(err.response.data.errors);\n      return false;\n    }\n  };\n\n// Update form 5\nexport const updateBankInfoFormAPI = (id, data) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  //update user_role to merchant account\n  data.user_role = 2;\n  data.update_at = new Date().toISOString().split(\"T\")[0];\n  const body = JSON.stringify(data);\n  try {\n    console.log(body);\n    const endpoint = `/v1/api/provider/register/${id}/bank-info`;\n    const res = await axios.post(endpoint, body, config);\n    console.log(res);\n    if (res.data?.state) {\n      dispatch({\n        type: UPDATE_BANK_INFO_FORM,\n        payload: { isBankInfoFormSubmitted: true },\n      });\n      return true;\n    }\n    return false;\n  } catch (err) {\n    console.log(err.response.data.errors);\n    return false;\n  }\n};\n//get provider by id\n\n//type 1 : get provider for customer view - type 2 : get provider for provider dashboard view\nexport const getProviderByIdAPI =\n  (provider_id, type, user_id) => async (dispatch) => {\n    if (!type) type = 1;\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const body = JSON.stringify({\n      user_id: user_id || -1,\n      provider_id: provider_id,\n    });\n    try {\n      const endpoint = `/v1/api/provider/dashboard/get-info`;\n      const res = await axios.post(endpoint, body, config);\n      if (res.data?.state) {\n        if (!res.data.provider_info?.data) return [];\n        if (type === 1) {\n          dispatch({\n            type: GET_PROVIDER_DETAIL,\n            payload: { currentProvider: res.data.provider_info.data },\n          });\n        }\n        if (type === 2) {\n          dispatch({\n            type: SET_DASHBOARD_PROVIDER,\n            payload: {\n              provider: res.data.provider_info.data,\n              operation: res.data.provider_info.operation_time,\n            },\n          });\n        }\n        return res.data?.provider_info;\n      }\n    } catch (err) {\n      console.log(err.response.data?.errors);\n    }\n  };\n\nexport const getScheduleTime = (id) => async (dispatch) => {\n  try {\n    const endpoint = `/v1/api/tastie/checkout/get_schedule_time/${id}`;\n    const res = await axios.get(endpoint);\n    if (res.data) {\n      return res.data.response;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const addDiscountAPI = (data) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify(data);\n  try {\n    const endpoint = \"/v1/api/provider/dashboard/add-discount\";\n    const res = await axios.post(endpoint, body, config);\n    console.log(res.data);\n    if (res.data?.status) {\n      return true;\n    }\n    return false;\n  } catch (err) {\n    console.log(err.response.data?.errors);\n    return false;\n  }\n};\n\nexport const updateDiscountAPI = (data) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify(data);\n  try {\n    const endpoint = \"/v1/api/provider/dashboard/update-discount\";\n    const res = await axios.post(endpoint, body, config);\n    console.log(res.data);\n    if (res.data?.status) {\n      return true;\n    }\n    return false;\n  } catch (err) {\n    console.log(err.response.data?.errors);\n    return false;\n  }\n};\n\nexport const getPromotionClaims = (id) => async (dispatch) => {\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-voucher-claims/${id}`;\n    const res = await axios.get(endpoint);\n    if (res.data) {\n      return res.data.count;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const getPromotionCosts = (id) => async (dispatch) => {\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-voucher-costs/${id}`;\n    const res = await axios.get(endpoint);\n    if (res.data) {\n      return res.data.total_cost;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const applyDiscountProviderAPI = (pid, did) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify({\n    discount_id: did,\n    product_id: pid,\n  });\n  try {\n    const endpoint = \"/v1/api/provider/dashboard/apply-discount-to-product\";\n    const res = await axios.post(endpoint, body, config);\n    if (res.data?.status) {\n      return true;\n    }\n    return false;\n  } catch (err) {\n    console.log(err.response.data?.errors);\n    return false;\n  }\n};\n\nexport const addPromotionAPI = (data) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify(data);\n  try {\n    const endpoint = \"/v1/api/tastie/provider/add-promotion\";\n    const res = await axios.post(endpoint, body, config);\n    if (res.data?.status) {\n      return true;\n    }\n    return false;\n  } catch (err) {\n    console.log(err.response.data?.errors);\n    return false;\n  }\n};\n\nexport const updatePromotionAPI = (data) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify(data);\n  try {\n    const endpoint = \"/v1/api/tastie/provider/update-promotion\";\n    const res = await axios.post(endpoint, body, config);\n    if (res.data?.status) {\n      return true;\n    }\n    return false;\n  } catch (err) {\n    console.log(err.response.data?.errors);\n    return false;\n  }\n};\n\nexport const getAllPromotionAPI = (id) => async (dispatch) => {\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-all-promos/${id}`;\n    const res = await axios.get(endpoint);\n    if (res.data.status) {\n      return res.data.response;\n    }\n    return {};\n  } catch (err) {\n    console.log(err);\n    return {};\n  }\n};\n\nexport const getAllEcouponAPI = (id) => async (dispatch) => {\n  try {\n    const endpoint = `/v1/api/provider/dashboard/get-all-ecoupon/${id}`;\n    const res = await axios.get(endpoint);\n    if (res.data.status) {\n      return res.data.response;\n    }\n    return {};\n  } catch (err) {\n    console.log(err);\n    return {};\n  }\n};\n\nexport const subscribeEcouponAPI = (eid, pid) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify({\n    ecoupon_id: eid,\n    provider_id: pid,\n  });\n  try {\n    const endpoint = `/v1/api/provider/dashboard/register-ecoupon`;\n    const res = await axios.post(endpoint, body, config);\n    if (res.data.status) {\n      return true;\n    }\n    return false;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport const addMenuCategoryAPI = (id, name) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify({\n    provider_id: id,\n    menu_name: name,\n  });\n  console.log(body);\n  try {\n    const endpoint = `/v1/api/provider/dashboard/menu-overview/add-menu-category`;\n    const res = await axios.post(endpoint, body, config);\n    if (res.data.status) {\n      return true;\n    }\n    return false;\n  } catch (err) {\n    return false;\n  }\n};\n\nexport const getAllOrderAPI = (id, limit, offset) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify({\n    provider_id: id,\n    limit: limit,\n    offset: offset,\n  });\n  try {\n    const endpoint = `/v1/api/provider/order/get-all-order`;\n    const res = await axios.post(endpoint, body, config);\n    if (res.data.status) {\n      let orders = res.data.response.map((item) => {\n        return {\n          order_id: item.order_id,\n          order_code: item.order_code,\n          total_amount: item.total_amount,\n          status: item[\"MAX(os.order_status_name)\"],\n          user_first_name: item.user_first_name,\n          user_last_name: item.user_last_name,\n          update_at: item.update_at,\n          payment_name: item.payment_name,\n          subtotal: item.subtotal,\n        };\n      });\n      dispatch({\n        type: SET_ORDER_LIST,\n        payload: {\n          orderList: orders,\n        },\n      });\n      return res.data.response;\n    }\n    return [];\n  } catch (err) {\n    return [];\n  }\n};\n\nexport const getProviderTopProductByUnitAPI =\n  (id, start_month, end_month, year) => async (dispatch) => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const body = JSON.stringify({\n      provider_id: id,\n      start_month,\n      end_month,\n      year,\n    });\n    try {\n      const endpoint = `/v1/api/provider/dashboard/get-top-product-by-unit-by-provider`;\n      const res = await axios.post(endpoint, body, config);\n      if (res.data.status) {\n        dispatch({\n          type: SET_TOP_PRODUCT_BY_UNIT,\n          payload: {\n            topByUnit: res.data.list_product,\n          },\n        });\n        return res.data.list_product;\n      }\n      return [];\n    } catch (err) {\n      console.log(err);\n      return [];\n    }\n  };\n\nexport const getProviderTopCategoryByUnitAPI =\n  (id, start_month, end_month, year) => async (dispatch) => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const body = JSON.stringify({\n      provider_id: id,\n      start_month,\n      end_month,\n      year,\n    });\n    try {\n      const endpoint = `/v1/api/provider/dashboard/get-top-category-by-unit-by-provider`;\n      const res = await axios.post(endpoint, body, config);\n      if (res.data.status) {\n        dispatch({\n          type: SET_TOP_CATEGORY_BY_UNIT,\n          payload: {\n            topCategory: res.data.response,\n          },\n        });\n        return res.data.list_product;\n      }\n      return [];\n    } catch (err) {\n      console.log(err);\n      return [];\n    }\n  };\n\nexport const getProviderTopProductBySalesAPI =\n  (id, start_month, end_month, year) => async (dispatch) => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const body = JSON.stringify({\n      provider_id: id,\n      start_month,\n      end_month,\n      year,\n    });\n    try {\n      const endpoint = `/v1/api/provider/dashboard/get-top-product-by-sales-by-provider`;\n      const res = await axios.post(endpoint, body, config);\n      if (res.data.status) {\n        dispatch({\n          type: SET_TOP_PRODUCT_BY_SALES,\n          payload: {\n            topBySales: res.data.list_product,\n          },\n        });\n        return res.data.list_product;\n      }\n      return [];\n    } catch (err) {\n      console.log(err);\n      return [];\n    }\n  };\n\nexport const getProviderRevenueByTime =\n  (id, start_month, end_month, year) => async (dispatch) => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const result = [];\n    try {\n      const endpoint = `/v1/api/provider/dashboard/get-provider-revenue-by-time`;\n      let month = new Date().getMonth();\n      let count = 12;\n      let body = {};\n      while (count > 0) {\n        if (month + 1 === 0) {\n          year -= 1;\n          month += 12;\n        }\n        start_month = month + 1;\n        end_month = month + 1;\n        body = JSON.stringify({\n          provider_id: id,\n          start_month,\n          end_month,\n          year,\n        });\n        const res = await axios.post(endpoint, body, config);\n        if (res.data.status) result.unshift(res.data.total_revenue);\n        month -= 1;\n        count -= 1;\n      }\n      return result;\n    } catch (err) {\n      console.log(err);\n      return 0;\n    }\n  };\n\nexport const getProviderOrderByTime =\n  (id, start_month, end_month, year) => async (dispatch) => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const result = [];\n    try {\n      const endpoint = `/v1/api/provider/dashboard/get-provider-number-order-by-time`;\n      let month = new Date().getMonth();\n      let count = 12;\n      let body = {};\n      while (count > 0) {\n        if (month + 1 === 0) {\n          year -= 1;\n          month += 12;\n        }\n        start_month = month + 1;\n        end_month = month + 1;\n        body = JSON.stringify({\n          provider_id: id,\n          start_month,\n          end_month,\n          year,\n        });\n        const res = await axios.post(endpoint, body, config);\n        if (res.data.status) result.unshift(res.data.number_order);\n        month -= 1;\n        count -= 1;\n      }\n      console.log(result);\n      return result;\n    } catch (err) {\n      console.log(err);\n      return 0;\n    }\n  };\n\nexport const updateProviderDetailAPI = (id, data) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify({\n    provider_status: data.status,\n    day: \"Monday\",\n    open_time: \"09:15:00\",\n    close_time: \"20:30:00\",\n    estimated_cooking_time: data.ect,\n    update_at: data.update_at,\n  });\n  try {\n    const endpoint = `/v1/api/provider/dashboard/${id}/update-provider`;\n    const res = await axios.post(endpoint, body, config);\n    if (res.data.status) {\n      return true;\n    }\n    return false;\n  } catch (err) {\n    console.log(err);\n    return false;\n  }\n};\n\nexport const getProviderNotification = (pid) => async (dispatch) => {\n  try {\n    const endpoint = `/v1/api/tastie/order/get-all-notification-to-provider/${pid}`;\n    const res = await axios.get(endpoint);\n    if (res.data?.status) {\n      dispatch({\n        type: GET_NOTIFICATION,\n        payload: {\n          notifications: res.data.response,\n        },\n      });\n      return res.data.response;\n    }\n  } catch (err) {\n    return [];\n  }\n};\n\nexport const appendOrderList = (order) => (dispatch) => {\n  dispatch({\n    type: ADD_ORDER_TO_ORDER_LIST,\n    payload: {\n      order: order,\n    },\n  });\n};\nexport const updateOrderList = (order) => (dispatch) => {\n  dispatch({\n    type: UPDATE_ORDER_IN_ORDER_LIST,\n    payload: {\n      order: order,\n    },\n  });\n};\n\nexport const getCustomerReviewAPI = (pid) => async (dispatch) => {\n  try {\n    const endpoint = `/v1/api/tastie/store/customer_review/${pid}`;\n    const res = await axios.get(endpoint);\n    if (res.data?.status) {\n      return res.data.response;\n    }\n  } catch (err) {\n    return [];\n  }\n};\n"]},"metadata":{},"sourceType":"module"}