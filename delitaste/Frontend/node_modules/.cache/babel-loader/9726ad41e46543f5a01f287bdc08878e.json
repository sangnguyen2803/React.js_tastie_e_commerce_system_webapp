{"ast":null,"code":"var _jsxFileName = \"/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/MerchantDashboard/DashboardFeatures/MDProduct/ProductOverview.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useEffect } from \"react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch, faPlus, faSort, faQuestionCircle, faSave } from \"@fortawesome/fontawesome-free-solid\";\nimport PropTypes from \"prop-types\";\nimport Button from \"components/Commons/Button/Button\";\nimport Metric from \"../Metric/Metric\";\nimport Picture1 from \"assets/FoodImg/picture2.jpg\";\nimport Picture2 from \"assets/FoodImg/picture1.jpg\";\nimport Picture3 from \"assets/FoodImg/picture3.jpg\";\nimport Picture4 from \"assets/FoodImg/picture4.jpg\";\nimport Picture5 from \"assets/FoodImg/picture5.jpg\";\nimport ProgressBar from \"components/Commons/ProgressBar/ProgressBar\";\nimport { getProductListAPI } from \"store/actions/ProductAction/ProductAction\";\nimport Tabs from \"../Tabs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst productList = [{\n  id: 1,\n  name: \"Menu BBQ Cheese & Bacon\",\n  price: \"2.50$\",\n  category: \"Fast food\",\n  productStatus: 3,\n  lastUpdated: \"2021-05-13\",\n  picture: Picture1,\n  description: \"mfsaef\"\n}, {\n  id: 2,\n  name: \"Pepperoni Pizza - Authentique Raclette (DE RETOUR)\",\n  price: \"10.00$\",\n  category: \"Fast food\",\n  productStatus: 2,\n  lastUpdated: \"2021-05-13\",\n  picture: Picture2,\n  description: \"mfsaef\"\n}, {\n  id: 3,\n  name: \"P333 Authent\",\n  price: \"5.00$\",\n  category: \"Fast food\",\n  productStatus: 2,\n  lastUpdated: \"2021-05-13\",\n  picture: Picture3\n}, {\n  id: 4,\n  name: \"Macha Shake\",\n  price: \"10.00$\",\n  productStatus: 1,\n  lastUpdated: \"2021-05-13\",\n  picture: Picture4,\n  description: \"mfsaef\"\n}, {\n  id: 5,\n  name: \"Fried Milk Chicken - Honey Butter\",\n  price: \"12.00$\",\n  category: \"Fast food\",\n  productStatus: 1,\n  lastUpdated: \"2021-05-13\",\n  picture: Picture5,\n  description: \"mfsaef\"\n}];\nconst ProductFilterTab = {\n  filterTabs: [{\n    id: 0,\n    name: \"All\"\n  }, {\n    id: 1,\n    name: \"Live\"\n  }, {\n    id: 2,\n    name: \"Sold out\"\n  }, {\n    id: 3,\n    name: \"Delisted\"\n  }, {\n    id: 4,\n    name: \"Search Result\"\n  }]\n};\n\nfunction ProductOverview(props) {\n  _s();\n\n  const [currentTab, setCurrentTab] = useState(0);\n  const [products, setProducts] = useState([]);\n  const [searchResult, setSearchResult] = useState();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const {\n    user,\n    provider,\n    getProductListAPI\n  } = props;\n  useEffect(() => {\n    async function fetchProductList(id) {\n      if (user.provider_id !== -1) {\n        const res = await getProductListAPI(id);\n        const temp = [];\n\n        for (let item in res) {\n          for (let x in res[item].products) {\n            temp.push(res[item].products[x]);\n          }\n        }\n\n        setProducts(temp);\n        setSearchResult(temp);\n      }\n    }\n\n    fetchProductList(user.provider_id);\n  }, [user.provider_id]);\n\n  const handleDragEnd = e => {\n    if (!e.destination) return;\n    let temp = Array.from(products);\n    let [sourceData] = temp.splice(e.source.index, 1);\n    temp.splice(e.destination.index, 0, sourceData);\n    setProducts(temp);\n  };\n\n  const filterSearchResult = searchTerm => {\n    setCurrentTab(4);\n    let result = [];\n\n    if (searchTerm.length !== 0) {\n      result = searchResult.filter(item => item.product_name.includes(searchTerm));\n      setSearchResult(result);\n    } else {\n      setCurrentTab(0);\n      setSearchResult(products);\n    }\n  };\n\n  const handleSelectTab = value => {\n    setCurrentTab(value);\n    let result = {};\n\n    switch (value) {\n      case 0:\n        result = products;\n        break;\n\n      case 1:\n        result = products.filter(item => item.product_status === 1);\n        break;\n\n      case 2:\n        result = products.filter(item => item.product_status === 2);\n        break;\n\n      case 3:\n        result = products.filter(item => item.product_status === 3);\n        break;\n\n      default:\n        result = products;\n    }\n\n    setSearchResult(result);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-detail-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-detail-title\",\n        children: \"Product Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-list-info-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-list-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-stock-quantity\",\n            children: [products === null || products === void 0 ? void 0 : products.length, \" Products\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-stock-quantity-description\",\n            children: [\"Upload \", `${200 - (products === null || products === void 0 ? void 0 : products.length)}`, \" more products.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-progress-bar\",\n            children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n              bgcolor: \"#940000\",\n              progress: `${products.length}`,\n              height: \"6px\",\n              length: 200\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Metric, {\n          width: \"20%\",\n          radius: 5,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-title\",\n            children: [\"Ranking by sales\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              className: \"question-icon\",\n              icon: faQuestionCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Metric, {\n          width: \"20%\",\n          radius: 5,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-title\",\n            children: \"Ranking by sales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Metric, {\n          width: \"20%\",\n          radius: 5,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-title\",\n            children: \"Ranking by sales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-detail-title\",\n        children: \"Product Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-product-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"search-product-term\",\n          type: \"text\",\n          name: \"search\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          placeholder: \"Search a product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          width: 60,\n          height: 36,\n          radius: \"0px\",\n          onClick: () => filterSearchResult(searchTerm),\n          label: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 20\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          left: 20,\n          buttonType: \"primary\",\n          width: 150,\n          height: 36,\n          radius: \"0px\",\n          label: \"Add\",\n          prefix: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faPlus,\n            style: {\n              color: \"white\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          left: 10,\n          buttonType: \"primary\",\n          width: 150,\n          height: 36,\n          radius: \"0px\",\n          label: \"Save\",\n          prefix: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSave,\n            style: {\n              color: \"white\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-table-container\",\n        children: [/*#__PURE__*/_jsxDEV(Tabs, {\n          tabs: ProductFilterTab.filterTabs,\n          boxWidth: \"8%\",\n          secondaryTabGroup: true,\n          borderTop: true,\n          fixed: false,\n          current: currentTab,\n          selectItem: handleSelectTab\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-table\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"text-capitalize\",\n              children: searchResult === null || searchResult === void 0 ? void 0 : searchResult.map((product, index) => {\n                var _product$price;\n\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"table-row-wrapper\",\n                  style: {\n                    cursor: \"pointer\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"product-img\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: product.product_image,\n                      height: 50,\n                      width: 50,\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 248,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"product-name\",\n                    style: {\n                      textAlign: \"left\",\n                      width: 200\n                    },\n                    children: product.product_name || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"field-hidden\",\n                    style: {\n                      textAlign: \"left\",\n                      width: 400\n                    },\n                    children: product.description || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      width: 60\n                    },\n                    children: [\"$ \", (product === null || product === void 0 ? void 0 : (_product$price = product.price) === null || _product$price === void 0 ? void 0 : _product$price.toFixed(2)) || \"—\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: product.update_at || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [\"Stock: \", product.quantity || \"—\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 21\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductOverview, \"YzyXfaEf58WCYYnpw1lqYdi0KCU=\");\n\n_c = ProductOverview;\nProductOverview.propTypes = {\n  user: PropTypes.object.isRequired,\n  provider: PropTypes.object.isRequired,\n  getProductListAPI: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.UserReducer,\n  provider: state.ProviderReducer\n});\n\nexport default withRouter(connect(mapStateToProps, {\n  getProductListAPI\n})(ProductOverview));\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductOverview\");","map":{"version":3,"sources":["/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/MerchantDashboard/DashboardFeatures/MDProduct/ProductOverview.js"],"names":["Fragment","useState","useEffect","DragDropContext","Draggable","Droppable","withRouter","connect","FontAwesomeIcon","faSearch","faPlus","faSort","faQuestionCircle","faSave","PropTypes","Button","Metric","Picture1","Picture2","Picture3","Picture4","Picture5","ProgressBar","getProductListAPI","Tabs","productList","id","name","price","category","productStatus","lastUpdated","picture","description","ProductFilterTab","filterTabs","ProductOverview","props","currentTab","setCurrentTab","products","setProducts","searchResult","setSearchResult","searchTerm","setSearchTerm","user","provider","fetchProductList","provider_id","res","temp","item","x","push","handleDragEnd","e","destination","Array","from","sourceData","splice","source","index","filterSearchResult","result","length","filter","product_name","includes","handleSelectTab","value","product_status","target","color","map","product","cursor","product_image","textAlign","width","toFixed","update_at","quantity","propTypes","object","isRequired","func","mapStateToProps","state","UserReducer","ProviderReducer"],"mappings":"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","sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faSearch,\n  faPlus,\n  faSort,\n  faQuestionCircle,\n  faSave,\n} from \"@fortawesome/fontawesome-free-solid\";\nimport PropTypes from \"prop-types\";\nimport Button from \"components/Commons/Button/Button\";\nimport Metric from \"../Metric/Metric\";\nimport Picture1 from \"assets/FoodImg/picture2.jpg\";\nimport Picture2 from \"assets/FoodImg/picture1.jpg\";\nimport Picture3 from \"assets/FoodImg/picture3.jpg\";\nimport Picture4 from \"assets/FoodImg/picture4.jpg\";\nimport Picture5 from \"assets/FoodImg/picture5.jpg\";\nimport ProgressBar from \"components/Commons/ProgressBar/ProgressBar\";\nimport { getProductListAPI } from \"store/actions/ProductAction/ProductAction\";\nimport Tabs from \"../Tabs\";\n\nconst productList = [\n  {\n    id: 1,\n    name: \"Menu BBQ Cheese & Bacon\",\n    price: \"2.50$\",\n    category: \"Fast food\",\n    productStatus: 3,\n    lastUpdated: \"2021-05-13\",\n    picture: Picture1,\n    description: \"mfsaef\",\n  },\n  {\n    id: 2,\n    name: \"Pepperoni Pizza - Authentique Raclette (DE RETOUR)\",\n    price: \"10.00$\",\n    category: \"Fast food\",\n    productStatus: 2,\n    lastUpdated: \"2021-05-13\",\n    picture: Picture2,\n    description: \"mfsaef\",\n  },\n  {\n    id: 3,\n    name: \"P333 Authent\",\n    price: \"5.00$\",\n    category: \"Fast food\",\n    productStatus: 2,\n    lastUpdated: \"2021-05-13\",\n    picture: Picture3,\n  },\n  {\n    id: 4,\n    name: \"Macha Shake\",\n    price: \"10.00$\",\n    productStatus: 1,\n    lastUpdated: \"2021-05-13\",\n    picture: Picture4,\n    description: \"mfsaef\",\n  },\n  {\n    id: 5,\n    name: \"Fried Milk Chicken - Honey Butter\",\n    price: \"12.00$\",\n    category: \"Fast food\",\n    productStatus: 1,\n    lastUpdated: \"2021-05-13\",\n    picture: Picture5,\n    description: \"mfsaef\",\n  },\n];\n\nconst ProductFilterTab = {\n  filterTabs: [\n    { id: 0, name: \"All\" },\n    { id: 1, name: \"Live\" },\n    { id: 2, name: \"Sold out\" },\n    { id: 3, name: \"Delisted\" },\n    { id: 4, name: \"Search Result\" },\n  ],\n};\nfunction ProductOverview(props) {\n  const [currentTab, setCurrentTab] = useState(0);\n  const [products, setProducts] = useState([]);\n  const [searchResult, setSearchResult] = useState();\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const { user, provider, getProductListAPI } = props;\n  useEffect(() => {\n    async function fetchProductList(id) {\n      if (user.provider_id !== -1) {\n        const res = await getProductListAPI(id);\n        const temp = [];\n        for (let item in res) {\n          for (let x in res[item].products) {\n            temp.push(res[item].products[x]);\n          }\n        }\n        setProducts(temp);\n        setSearchResult(temp);\n      }\n    }\n    fetchProductList(user.provider_id);\n  }, [user.provider_id]);\n\n  const handleDragEnd = (e) => {\n    if (!e.destination) return;\n    let temp = Array.from(products);\n    let [sourceData] = temp.splice(e.source.index, 1);\n    temp.splice(e.destination.index, 0, sourceData);\n    setProducts(temp);\n  };\n  const filterSearchResult = (searchTerm) => {\n    setCurrentTab(4);\n    let result = [];\n    if (searchTerm.length !== 0) {\n      result = searchResult.filter((item) =>\n        item.product_name.includes(searchTerm)\n      );\n      setSearchResult(result);\n    } else {\n      setCurrentTab(0);\n      setSearchResult(products);\n    }\n  };\n  const handleSelectTab = (value) => {\n    setCurrentTab(value);\n    let result = {};\n    switch (value) {\n      case 0:\n        result = products;\n        break;\n      case 1:\n        result = products.filter((item) => item.product_status === 1);\n        break;\n      case 2:\n        result = products.filter((item) => item.product_status === 2);\n        break;\n      case 3:\n        result = products.filter((item) => item.product_status === 3);\n        break;\n      default:\n        result = products;\n    }\n    setSearchResult(result);\n  };\n\n  return (\n    <Fragment>\n      <div className=\"panel-detail-wrapper\">\n        <div className=\"panel-detail-title\">Product Overview</div>\n\n        <div className=\"product-list-info-row\">\n          <div className=\"product-list-info\">\n            <div className=\"product-stock-quantity\">\n              {products?.length} Products\n            </div>\n            <div className=\"product-stock-quantity-description\">\n              Upload {`${200 - products?.length}`} more products.\n            </div>\n            <div className=\"product-progress-bar\">\n              <ProgressBar\n                bgcolor=\"#940000\"\n                progress={`${products.length}`}\n                height=\"6px\"\n                length={200}\n              />\n            </div>\n          </div>\n          <Metric width={\"20%\"} radius={5}>\n            <span className=\"metric-title\">\n              Ranking by sales\n              <FontAwesomeIcon\n                className=\"question-icon\"\n                icon={faQuestionCircle}\n              />\n            </span>\n          </Metric>\n          <Metric width={\"20%\"} radius={5}>\n            <span className=\"metric-title\">Ranking by sales</span>\n          </Metric>\n          <Metric width={\"20%\"} radius={5}>\n            <span className=\"metric-title\">Ranking by sales</span>\n          </Metric>\n        </div>\n        <div className=\"panel-detail-title\">Product Details</div>\n        <div className=\"search-product-container\">\n          <input\n            className=\"search-product-term\"\n            type=\"text\"\n            name=\"search\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            placeholder=\"Search a product\"\n          />\n          <Button\n            width={60}\n            height={36}\n            radius={\"0px\"}\n            onClick={() => filterSearchResult(searchTerm)}\n            label={<FontAwesomeIcon icon={faSearch} />}\n          />\n          <Button\n            left={20}\n            buttonType=\"primary\"\n            width={150}\n            height={36}\n            radius={\"0px\"}\n            label={\"Add\"}\n            prefix={\n              <FontAwesomeIcon icon={faPlus} style={{ color: \"white\" }} />\n            }\n          />\n          <Button\n            left={10}\n            buttonType=\"primary\"\n            width={150}\n            height={36}\n            radius={\"0px\"}\n            label={\"Save\"}\n            prefix={\n              <FontAwesomeIcon icon={faSave} style={{ color: \"white\" }} />\n            }\n          />\n        </div>\n        <div className=\"product-table-container\">\n          <Tabs\n            tabs={ProductFilterTab.filterTabs}\n            boxWidth={\"8%\"}\n            secondaryTabGroup={true}\n            borderTop={true}\n            fixed={false}\n            current={currentTab}\n            selectItem={handleSelectTab}\n          />\n          <div className=\"product-table\">\n            <table className=\"table table-wrapper\">\n              <tbody className=\"text-capitalize\">\n                {searchResult?.map((product, index) => (\n                  <tr\n                    className=\"table-row-wrapper\"\n                    style={{ cursor: \"pointer\" }}\n                    key={index}\n                  >\n                    <td className=\"product-img\">\n                      <img\n                        src={product.product_image}\n                        height={50}\n                        width={50}\n                        alt=\"\"\n                      />\n                    </td>\n                    <td\n                      className=\"product-name\"\n                      style={{\n                        textAlign: \"left\",\n                        width: 200,\n                      }}\n                    >\n                      {product.product_name || \"—\"}\n                    </td>\n                    <td\n                      className=\"field-hidden\"\n                      style={{\n                        textAlign: \"left\",\n                        width: 400,\n                      }}\n                    >\n                      {product.description || \"—\"}\n                    </td>\n\n                    <td style={{ width: 60 }}>\n                      $ {product?.price?.toFixed(2) || \"—\"}\n                    </td>\n                    <td>{product.update_at || \"—\"}</td>\n                    <td>Stock: {product.quantity || \"—\"}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nProductOverview.propTypes = {\n  user: PropTypes.object.isRequired,\n  provider: PropTypes.object.isRequired,\n  getProductListAPI: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.UserReducer,\n  provider: state.ProviderReducer,\n});\n\nexport default withRouter(\n  connect(mapStateToProps, {\n    getProductListAPI,\n  })(ProductOverview)\n);\n"]},"metadata":{},"sourceType":"module"}