{"ast":null,"code":"var _jsxFileName = \"/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/OrderTracking/OrderTracking.js\",\n    _s = $RefreshSig$();\n\nimport withAuth from \"components/HigherOrderComponents(HOC)/withAuth\";\nimport NavBar from \"../Commons/Layout/NavBar/NavBar\";\nimport Footer from \"../Commons/Layout/Footer/Footer\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport ToolBar from \"../Commons/Layout/Toolbar/Toolbar\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport \"./OrderTracking.scss\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport OrderStatus from \"components/OrderTracking/OrderStatus/OrderStatus\";\nimport OTOrderDetail from \"components/OrderTracking/OTOrderDetail/OTOrderDetail\";\nimport ReactMapGl, { Source, Layer, Marker, Popup } from \"react-map-gl\";\nimport Modal from \"components/Commons/Overlay/Popup/Modal/Modal\";\nimport io from \"socket.io-client\";\nimport axios from \"axios\";\nimport RateShipper from \"./RateShipper/RateShipper\";\nimport { addNotificationAPI } from \"store/actions/OrderAction/OrderAction\";\nimport { getAllProductFromOrderAPI, getOrderStatusAPI } from \"store/actions/OrderAction/OrderAction\";\nimport RateProvider from \"./RateProvider/RateProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction OrderTracking(props) {\n  _s();\n\n  var _orderSummary$subtota;\n\n  const {\n    user,\n    getAllProductFromOrderAPI,\n    getOrderStatusAPI,\n    match\n  } = props;\n  const [viewport, setViewport] = useState({\n    width: \"100%\",\n    height: \"100vh\",\n    latitude: 10.768685473523648,\n    longitude: 106.68057155417674,\n    zoom: 16\n  });\n  const [departureCoordinates, setDepartureCoordinates] = useState([106.68057155417674, 10.768685473523648]);\n  const [arrivalCoordinates, setArrivalCoordinates] = useState([106.68060027236189, 10.75909421616193]);\n  const [loading, setLoading] = useState(false);\n  const [routes, setRoutes] = useState([]);\n  const {\n    order_code\n  } = props.match.params;\n  const [showPopup, setShowPopup] = useState(false);\n  const [showRatingShipper, setShowRatingShipper] = useState(false);\n  const [showRatingProvider, setShowRatingProvider] = useState(false);\n  const [currentStatus, setCurrentStatus] = useState(1);\n  const [submittedStatus, setSubmittedStatus] = useState(true);\n  const [assignedStatus, setAssignedStatus] = useState(false);\n  const [confirmedStatus, setConfirmedStatus] = useState(false);\n  const [pickedStatus, setPickedStatus] = useState(false);\n  const [completedStatus, setCompletedStatus] = useState(false);\n  const [cancelStatus, setCancelStatus] = useState(false);\n  const [orderItems, setOrderItems] = useState([]);\n  const [orderSummary, setOrderSummary] = useState([]);\n  const [showOrderDetail, setShowOrderDetail] = useState(false);\n  useEffect(() => {\n    if (currentStatus === 5 && orderSummary) {\n      if (orderSummary.delivery_mode !== 2) {\n        setShowRatingShipper(true);\n        setShowRatingProvider(false);\n      } else {\n        setShowRatingShipper(false);\n        setShowRatingProvider(true);\n      }\n    }\n  }, [currentStatus, orderSummary]);\n  useEffect(() => {\n    const code = match.params.order_code;\n\n    async function fetchingOrder(orderCode) {\n      const result1 = await getAllProductFromOrderAPI(orderCode);\n      const result2 = await getOrderStatusAPI(orderCode);\n      Promise.all([result1, result2]).then(data => {\n        setOrderItems(result1);\n        setOrderSummary(result2);\n\n        if (data[0] && data[1]) {\n          setOrderData(prev => ({ ...prev,\n            provider_id: data[0].provider_id,\n            merchant_name: data[0].merchant_name,\n            items: data[0].items,\n            num_items: data[0].num_items,\n            delivery_fee: data[0].delivery_fee\n          }));\n          const status = [\"Submitted\", \"Assigned\", \"Confirmed\", \"Picked\", \"Completed\"];\n          setCurrentStatus(status.indexOf(data[1].order_status[data[1].order_status.length - 1].order_status_name) + 1);\n        }\n      });\n      setLoading(true);\n    }\n\n    fetchingOrder(code);\n  }, []);\n  useEffect(() => {\n    window.scrollTo({\n      top: 0,\n      behavior: \"auto\"\n    });\n  }, []);\n  const [orderData, setOrderData] = useState({\n    merchant_name: null,\n    items: [],\n    num_items: 0,\n    delivery_fee: 0\n  });\n  useEffect(() => {\n    setSubmittedStatus(1 <= currentStatus ? true : false);\n    setAssignedStatus(2 <= currentStatus ? true : false);\n    setConfirmedStatus(3 <= currentStatus ? true : false);\n    setPickedStatus(4 <= currentStatus ? true : false);\n    setCompletedStatus(5 <= currentStatus ? true : false);\n    setCancelStatus(6 <= currentStatus ? true : false);\n  }, [currentStatus]);\n  useEffect(() => {\n    user.socket.emit(\"join-room\", order_code); //order status 2\n\n    user.socket.on(\"order-accepted\", message => {\n      setAssignedStatus(true);\n      setCurrentStatus(2);\n    }); //order status 3\n\n    user.socket.on(\"order-confirmed-from-provider\", () => {\n      setConfirmedStatus(true);\n      setCurrentStatus(3);\n    }); //order status 4\n\n    user.socket.on(\"shipper-on-the-way\", message => {\n      setPickedStatus(true);\n      setCurrentStatus(4);\n    }); //order status 5\n\n    user.socket.on(\"shipper-has-arrived\", message => {\n      setPickedStatus(true);\n      setCurrentStatus(5);\n    });\n    user.socket.on(\"order-canceled\", message => {\n      setCancelStatus(true);\n      setCurrentStatus(6);\n    });\n    return () => {\n      user.socket.disconnect();\n    };\n  }, []);\n  useEffect(() => {\n    async function fetchingRoutesAndDirections() {\n      const endpoint = `https://api.mapbox.com/directions/v5/mapbox/driving/${departureCoordinates[0]},${departureCoordinates[1]};${arrivalCoordinates[0]},${arrivalCoordinates[1]}?geometries=geojson&access_token=pk.eyJ1IjoiaG9hbmduYW0yNDMiLCJhIjoiY2t1dHJxdjdlMHg5ZDJwbnlpcmo0a2NnMiJ9.DUrlIOzvO6-kWt-VCKZW1g`;\n      const res = await axios.get(endpoint);\n      const points = res.data.routes[0].geometry.coordinates;\n      points.unshift(departureCoordinates);\n      points.push(arrivalCoordinates);\n      setRoutes(points);\n    }\n\n    fetchingRoutesAndDirections();\n  }, []);\n  const dataOne = {\n    type: \"Feature\",\n    properties: {},\n    geometry: {\n      type: \"LineString\",\n      coordinates: routes\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      fixed: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-tracking-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-tracking-left-side\",\n        children: /*#__PURE__*/_jsxDEV(ReactMapGl, { ...viewport,\n          mapStyle: \"mapbox://styles/mapbox/streets-v11\",\n          onViewportChange: viewport => setViewport(viewport),\n          mapboxApiAccessToken: \"pk.eyJ1IjoiaG9hbmduYW0yNDMiLCJhIjoiY2t1dHJxdjdlMHg5ZDJwbnlpcmo0a2NnMiJ9.DUrlIOzvO6-kWt-VCKZW1g\",\n          children: [/*#__PURE__*/_jsxDEV(Source, {\n            id: \"polylineLayer\",\n            type: \"geojson\",\n            data: dataOne,\n            children: /*#__PURE__*/_jsxDEV(Layer, {\n              id: \"lineLayer\",\n              type: \"line\",\n              source: \"my-data\",\n              layout: {\n                \"line-join\": \"round\",\n                \"line-cap\": \"round\"\n              },\n              paint: {\n                \"line-color\": \"rgba(3, 170, 238, 0.5)\",\n                \"line-width\": 10\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Marker, {\n            latitude: departureCoordinates[1],\n            longitude: departureCoordinates[0],\n            offsetLeft: -20,\n            offsetTop: -30,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"marker\",\n              onClick: () => setShowPopup(true),\n              style: {\n                height: 30,\n                width: 30\n              },\n              src: \"https://xuonginthanhpho.com/wp-content/uploads/2020/03/map-marker-icon.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Marker, {\n            alt: \"marker\",\n            latitude: arrivalCoordinates[1],\n            longitude: arrivalCoordinates[0],\n            offsetLeft: -20,\n            offsetTop: -30,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              style: {\n                height: 30,\n                width: 30\n              },\n              alt: \"marker\",\n              src: \"https://xuonginthanhpho.com/wp-content/uploads/2020/03/map-marker-icon.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-tracking-right-side\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-status-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-status-timing\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"or-s-main-text\",\n              children: \"14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"or-s-sub-text\",\n              children: \"mins\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-status-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-main-text-header\",\n              children: orderItems === null || orderItems === void 0 ? void 0 : orderItems.merchant_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-sub-text-header\",\n              children: [\"Total:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"highlight-main-text\",\n                children: [\"$ \", orderSummary === null || orderSummary === void 0 ? void 0 : (_orderSummary$subtota = orderSummary.subtotal) === null || _orderSummary$subtota === void 0 ? void 0 : _orderSummary$subtota.toFixed(2), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), \" \", \"\\\"(2 items)\\\"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-sub-text-header\",\n              children: [\"Delivery estimated:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"highlight-main-text\",\n                children: \"2021-06-04 16:30 \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), (orderSummary === null || orderSummary === void 0 ? void 0 : orderSummary.delivery_mode) === 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"or-s-stepper-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: submittedStatus ? \"or-s-stepper-node-checked\" : \"or-s-stepper-node-not-checked\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-index\",\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-title\",\n              children: \"Submitted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: confirmedStatus ? \"or-s-stepper-line-checked\" : \"or-s-stepper-line-not-checked\",\n            style: {\n              width: 200\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: confirmedStatus ? \"or-s-stepper-node-checked\" : \"or-s-stepper-node-not-checked\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-index\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-title\",\n              children: \"Confirmed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: completedStatus ? \"or-s-stepper-line-checked\" : \"or-s-stepper-line-not-checked\",\n            style: {\n              width: 200\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: completedStatus ? \"or-s-stepper-node-checked\" : \"or-s-stepper-node-not-checked\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-index\",\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-title\",\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"or-s-stepper-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: submittedStatus ? \"or-s-stepper-node-checked\" : \"or-s-stepper-node-not-checked\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-index\",\n              children: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-title\",\n              children: \"Submitted\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: assignedStatus ? \"or-s-stepper-line-checked\" : \"or-s-stepper-line-not-checked\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: assignedStatus ? \"or-s-stepper-node-checked\" : \"or-s-stepper-node-not-checked\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-index\",\n              children: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-title\",\n              children: \"Assigning\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: confirmedStatus ? \"or-s-stepper-line-checked\" : \"or-s-stepper-line-not-checked\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: confirmedStatus ? \"or-s-stepper-node-checked\" : \"or-s-stepper-node-not-checked\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-index\",\n              children: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-title\",\n              children: \"Confirmed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: pickedStatus ? \"or-s-stepper-line-checked\" : \"or-s-stepper-line-not-checked\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: pickedStatus ? \"or-s-stepper-node-checked\" : \"or-s-stepper-node-not-checked\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-index\",\n              children: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-title\",\n              children: \"Picked\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: completedStatus ? \"or-s-stepper-line-checked\" : \"or-s-stepper-line-not-checked\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: completedStatus ? \"or-s-stepper-node-checked\" : \"or-s-stepper-node-not-checked\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-index\",\n              children: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"or-s-stepper-node-title\",\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(OTOrderDetail, {\n          orderItems: orderItems,\n          orderSummary: orderSummary,\n          showOrderDetail: showOrderDetail,\n          setShowOrderDetail: setShowOrderDetail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), !showOrderDetail && /*#__PURE__*/_jsxDEV(OrderStatus, {\n          orderSummary: orderSummary,\n          status: currentStatus,\n          showOrderDetail: showOrderDetail,\n          setShowOrderDetail: setShowOrderDetail,\n          setCompletedStatus: setCompletedStatus,\n          setPickedStatus: setPickedStatus,\n          setCurrentStatus: setCurrentStatus,\n          currentStatus: currentStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      openModal: showRatingShipper,\n      closeModal: () => {\n        setShowRatingShipper(false);\n        setShowRatingProvider(true);\n      },\n      transparent: 0.5,\n      title: \"Rate Shipper\",\n      width: 40,\n      height: 600,\n      padding: \"0% 0%\",\n      hideHeader: true,\n      children: /*#__PURE__*/_jsxDEV(RateShipper, {\n        setVisible: setShowRatingShipper,\n        orderSummary: orderSummary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      openModal: showRatingProvider,\n      closeModal: () => {\n        setShowRatingProvider(false);\n      },\n      transparent: 0.5,\n      title: \"Rate Order\",\n      width: 40,\n      height: 500,\n      padding: \"0% 0%\",\n      hideHeader: true,\n      children: /*#__PURE__*/_jsxDEV(RateProvider, {\n        setVisible: setShowRatingProvider,\n        orderSummary: orderSummary\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OrderTracking, \"4/b0VaYq6FW5h2OLFl3Xcnzzm0w=\");\n\n_c = OrderTracking;\nOrderTracking.propTypes = {\n  user: PropTypes.object.isRequired,\n  product: PropTypes.object.isRequired,\n  getAllProductFromOrderAPI: PropTypes.func.isRequired,\n  getOrderStatusAPI: PropTypes.func.isRequired,\n  addNotificationAPI: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.UserReducer,\n  product: state.ProductReducer\n});\n\nexport default withRouter(withAuth(connect(mapStateToProps, {\n  getAllProductFromOrderAPI,\n  getOrderStatusAPI,\n  addNotificationAPI\n})(OrderTracking)));\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderTracking\");","map":{"version":3,"sources":["/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/OrderTracking/OrderTracking.js"],"names":["withAuth","NavBar","Footer","React","Fragment","useState","useEffect","ToolBar","withRouter","connect","PropTypes","FontAwesomeIcon","OrderStatus","OTOrderDetail","ReactMapGl","Source","Layer","Marker","Popup","Modal","io","axios","RateShipper","addNotificationAPI","getAllProductFromOrderAPI","getOrderStatusAPI","RateProvider","OrderTracking","props","user","match","viewport","setViewport","width","height","latitude","longitude","zoom","departureCoordinates","setDepartureCoordinates","arrivalCoordinates","setArrivalCoordinates","loading","setLoading","routes","setRoutes","order_code","params","showPopup","setShowPopup","showRatingShipper","setShowRatingShipper","showRatingProvider","setShowRatingProvider","currentStatus","setCurrentStatus","submittedStatus","setSubmittedStatus","assignedStatus","setAssignedStatus","confirmedStatus","setConfirmedStatus","pickedStatus","setPickedStatus","completedStatus","setCompletedStatus","cancelStatus","setCancelStatus","orderItems","setOrderItems","orderSummary","setOrderSummary","showOrderDetail","setShowOrderDetail","delivery_mode","code","fetchingOrder","orderCode","result1","result2","Promise","all","then","data","setOrderData","prev","provider_id","merchant_name","items","num_items","delivery_fee","status","indexOf","order_status","length","order_status_name","window","scrollTo","top","behavior","orderData","socket","emit","on","message","disconnect","fetchingRoutesAndDirections","endpoint","res","get","points","geometry","coordinates","unshift","push","dataOne","type","properties","subtotal","toFixed","propTypes","object","isRequired","product","func","mapStateToProps","state","UserReducer","ProductReducer"],"mappings":"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","sourcesContent":["import withAuth from \"components/HigherOrderComponents(HOC)/withAuth\";\nimport NavBar from \"../Commons/Layout/NavBar/NavBar\";\nimport Footer from \"../Commons/Layout/Footer/Footer\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport ToolBar from \"../Commons/Layout/Toolbar/Toolbar\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport \"./OrderTracking.scss\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport OrderStatus from \"components/OrderTracking/OrderStatus/OrderStatus\";\nimport OTOrderDetail from \"components/OrderTracking/OTOrderDetail/OTOrderDetail\";\nimport ReactMapGl, { Source, Layer, Marker, Popup } from \"react-map-gl\";\nimport Modal from \"components/Commons/Overlay/Popup/Modal/Modal\";\nimport io from \"socket.io-client\";\nimport axios from \"axios\";\nimport RateShipper from \"./RateShipper/RateShipper\";\nimport { addNotificationAPI } from \"store/actions/OrderAction/OrderAction\";\nimport {\n  getAllProductFromOrderAPI,\n  getOrderStatusAPI,\n} from \"store/actions/OrderAction/OrderAction\";\nimport RateProvider from \"./RateProvider/RateProvider\";\n\nfunction OrderTracking(props) {\n  const { user, getAllProductFromOrderAPI, getOrderStatusAPI, match } = props;\n  const [viewport, setViewport] = useState({\n    width: \"100%\",\n    height: \"100vh\",\n    latitude: 10.768685473523648,\n    longitude: 106.68057155417674,\n    zoom: 16,\n  });\n  const [departureCoordinates, setDepartureCoordinates] = useState([\n    106.68057155417674, 10.768685473523648,\n  ]);\n  const [arrivalCoordinates, setArrivalCoordinates] = useState([\n    106.68060027236189, 10.75909421616193,\n  ]);\n  const [loading, setLoading] = useState(false);\n  const [routes, setRoutes] = useState([]);\n  const { order_code } = props.match.params;\n  const [showPopup, setShowPopup] = useState(false);\n  const [showRatingShipper, setShowRatingShipper] = useState(false);\n  const [showRatingProvider, setShowRatingProvider] = useState(false);\n\n  const [currentStatus, setCurrentStatus] = useState(1);\n  const [submittedStatus, setSubmittedStatus] = useState(true);\n  const [assignedStatus, setAssignedStatus] = useState(false);\n  const [confirmedStatus, setConfirmedStatus] = useState(false);\n  const [pickedStatus, setPickedStatus] = useState(false);\n  const [completedStatus, setCompletedStatus] = useState(false);\n  const [cancelStatus, setCancelStatus] = useState(false);\n  const [orderItems, setOrderItems] = useState([]);\n  const [orderSummary, setOrderSummary] = useState([]);\n  const [showOrderDetail, setShowOrderDetail] = useState(false);\n  useEffect(() => {\n    if (currentStatus === 5 && orderSummary) {\n      if (orderSummary.delivery_mode !== 2) {\n        setShowRatingShipper(true);\n        setShowRatingProvider(false);\n      } else {\n        setShowRatingShipper(false);\n        setShowRatingProvider(true);\n      }\n    }\n  }, [currentStatus, orderSummary]);\n  useEffect(() => {\n    const code = match.params.order_code;\n    async function fetchingOrder(orderCode) {\n      const result1 = await getAllProductFromOrderAPI(orderCode);\n      const result2 = await getOrderStatusAPI(orderCode);\n      Promise.all([result1, result2]).then((data) => {\n        setOrderItems(result1);\n        setOrderSummary(result2);\n        if (data[0] && data[1]) {\n          setOrderData((prev) => ({\n            ...prev,\n            provider_id: data[0].provider_id,\n            merchant_name: data[0].merchant_name,\n            items: data[0].items,\n            num_items: data[0].num_items,\n            delivery_fee: data[0].delivery_fee,\n          }));\n          const status = [\n            \"Submitted\",\n            \"Assigned\",\n            \"Confirmed\",\n            \"Picked\",\n            \"Completed\",\n          ];\n          setCurrentStatus(\n            status.indexOf(\n              data[1].order_status[data[1].order_status.length - 1]\n                .order_status_name\n            ) + 1\n          );\n        }\n      });\n      setLoading(true);\n    }\n    fetchingOrder(code);\n  }, []);\n  useEffect(() => {\n    window.scrollTo({ top: 0, behavior: \"auto\" });\n  }, []);\n  const [orderData, setOrderData] = useState({\n    merchant_name: null,\n    items: [],\n    num_items: 0,\n    delivery_fee: 0,\n  });\n\n  useEffect(() => {\n    setSubmittedStatus(1 <= currentStatus ? true : false);\n    setAssignedStatus(2 <= currentStatus ? true : false);\n    setConfirmedStatus(3 <= currentStatus ? true : false);\n    setPickedStatus(4 <= currentStatus ? true : false);\n    setCompletedStatus(5 <= currentStatus ? true : false);\n    setCancelStatus(6 <= currentStatus ? true : false);\n  }, [currentStatus]);\n\n  useEffect(() => {\n    user.socket.emit(\"join-room\", order_code);\n    //order status 2\n    user.socket.on(\"order-accepted\", (message) => {\n      setAssignedStatus(true);\n      setCurrentStatus(2);\n    });\n    //order status 3\n    user.socket.on(\"order-confirmed-from-provider\", () => {\n      setConfirmedStatus(true);\n      setCurrentStatus(3);\n    });\n    //order status 4\n    user.socket.on(\"shipper-on-the-way\", (message) => {\n      setPickedStatus(true);\n      setCurrentStatus(4);\n    });\n    //order status 5\n    user.socket.on(\"shipper-has-arrived\", (message) => {\n      setPickedStatus(true);\n      setCurrentStatus(5);\n    });\n    user.socket.on(\"order-canceled\", (message) => {\n      setCancelStatus(true);\n      setCurrentStatus(6);\n    });\n    return () => {\n      user.socket.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    async function fetchingRoutesAndDirections() {\n      const endpoint = `https://api.mapbox.com/directions/v5/mapbox/driving/${departureCoordinates[0]},${departureCoordinates[1]};${arrivalCoordinates[0]},${arrivalCoordinates[1]}?geometries=geojson&access_token=pk.eyJ1IjoiaG9hbmduYW0yNDMiLCJhIjoiY2t1dHJxdjdlMHg5ZDJwbnlpcmo0a2NnMiJ9.DUrlIOzvO6-kWt-VCKZW1g`;\n      const res = await axios.get(endpoint);\n      const points = res.data.routes[0].geometry.coordinates;\n      points.unshift(departureCoordinates);\n      points.push(arrivalCoordinates);\n      setRoutes(points);\n    }\n    fetchingRoutesAndDirections();\n  }, []);\n\n  const dataOne = {\n    type: \"Feature\",\n    properties: {},\n    geometry: {\n      type: \"LineString\",\n      coordinates: routes,\n    },\n  };\n\n  return (\n    <Fragment>\n      <NavBar fixed={true} />\n\n      <div className=\"order-tracking-container\">\n        <div className=\"order-tracking-left-side\">\n          <ReactMapGl\n            {...viewport}\n            mapStyle=\"mapbox://styles/mapbox/streets-v11\"\n            onViewportChange={(viewport) => setViewport(viewport)}\n            mapboxApiAccessToken=\"pk.eyJ1IjoiaG9hbmduYW0yNDMiLCJhIjoiY2t1dHJxdjdlMHg5ZDJwbnlpcmo0a2NnMiJ9.DUrlIOzvO6-kWt-VCKZW1g\"\n          >\n            <Source id=\"polylineLayer\" type=\"geojson\" data={dataOne}>\n              <Layer\n                id=\"lineLayer\"\n                type=\"line\"\n                source=\"my-data\"\n                layout={{\n                  \"line-join\": \"round\",\n                  \"line-cap\": \"round\",\n                }}\n                paint={{\n                  \"line-color\": \"rgba(3, 170, 238, 0.5)\",\n                  \"line-width\": 10,\n                }}\n              />\n            </Source>\n            <Marker\n              latitude={departureCoordinates[1]}\n              longitude={departureCoordinates[0]}\n              offsetLeft={-20}\n              offsetTop={-30}\n            >\n              <img\n                alt=\"marker\"\n                onClick={() => setShowPopup(true)}\n                style={{ height: 30, width: 30 }}\n                src=\"https://xuonginthanhpho.com/wp-content/uploads/2020/03/map-marker-icon.png\"\n              />\n            </Marker>\n            <Marker\n              alt=\"marker\"\n              latitude={arrivalCoordinates[1]}\n              longitude={arrivalCoordinates[0]}\n              offsetLeft={-20}\n              offsetTop={-30}\n            >\n              <img\n                style={{ height: 30, width: 30 }}\n                alt=\"marker\"\n                src=\"https://xuonginthanhpho.com/wp-content/uploads/2020/03/map-marker-icon.png\"\n              />\n            </Marker>\n          </ReactMapGl>\n        </div>\n        <div className=\"order-tracking-right-side\">\n          <div className=\"order-status-container\">\n            <div className=\"order-status-timing\">\n              <div className=\"or-s-main-text\">14</div>\n              <div className=\"or-s-sub-text\">mins</div>\n            </div>\n            <div className=\"order-status-header\">\n              <span className=\"or-s-main-text-header\">\n                {orderItems?.merchant_name}\n              </span>\n              <span className=\"or-s-sub-text-header\">\n                Total:{\" \"}\n                <span className=\"highlight-main-text\">\n                  $ {orderSummary?.subtotal?.toFixed(2)}{\" \"}\n                </span>{\" \"}\n                \"(2 items)\"\n              </span>\n              <span className=\"or-s-sub-text-header\">\n                Delivery estimated:{\" \"}\n                <span className=\"highlight-main-text\">2021-06-04 16:30 </span>\n              </span>\n            </div>\n          </div>\n          {orderSummary?.delivery_mode === 2 ? (\n            <div className=\"or-s-stepper-wrapper\">\n              <div\n                className={\n                  submittedStatus\n                    ? \"or-s-stepper-node-checked\"\n                    : \"or-s-stepper-node-not-checked\"\n                }\n              >\n                <span className=\"or-s-stepper-node-index\">1</span>\n                <span className=\"or-s-stepper-node-title\">Submitted</span>\n              </div>\n              <div\n                className={\n                  confirmedStatus\n                    ? \"or-s-stepper-line-checked\"\n                    : \"or-s-stepper-line-not-checked\"\n                }\n                style={{ width: 200 }}\n              ></div>\n              <div\n                className={\n                  confirmedStatus\n                    ? \"or-s-stepper-node-checked\"\n                    : \"or-s-stepper-node-not-checked\"\n                }\n              >\n                <span className=\"or-s-stepper-node-index\">2</span>\n                <span className=\"or-s-stepper-node-title\">Confirmed</span>\n              </div>\n              <div\n                className={\n                  completedStatus\n                    ? \"or-s-stepper-line-checked\"\n                    : \"or-s-stepper-line-not-checked\"\n                }\n                style={{ width: 200 }}\n              ></div>\n              <div\n                className={\n                  completedStatus\n                    ? \"or-s-stepper-node-checked\"\n                    : \"or-s-stepper-node-not-checked\"\n                }\n              >\n                <span className=\"or-s-stepper-node-index\">3</span>\n                <span className=\"or-s-stepper-node-title\">Completed</span>\n              </div>\n            </div>\n          ) : (\n            <div className=\"or-s-stepper-wrapper\">\n              <div\n                className={\n                  submittedStatus\n                    ? \"or-s-stepper-node-checked\"\n                    : \"or-s-stepper-node-not-checked\"\n                }\n              >\n                <span className=\"or-s-stepper-node-index\">1</span>\n                <span className=\"or-s-stepper-node-title\">Submitted</span>\n              </div>\n              <div\n                className={\n                  assignedStatus\n                    ? \"or-s-stepper-line-checked\"\n                    : \"or-s-stepper-line-not-checked\"\n                }\n              ></div>\n              <div\n                className={\n                  assignedStatus\n                    ? \"or-s-stepper-node-checked\"\n                    : \"or-s-stepper-node-not-checked\"\n                }\n              >\n                <span className=\"or-s-stepper-node-index\">2</span>\n                <span className=\"or-s-stepper-node-title\">Assigning</span>\n              </div>\n              <div\n                className={\n                  confirmedStatus\n                    ? \"or-s-stepper-line-checked\"\n                    : \"or-s-stepper-line-not-checked\"\n                }\n              ></div>\n              <div\n                className={\n                  confirmedStatus\n                    ? \"or-s-stepper-node-checked\"\n                    : \"or-s-stepper-node-not-checked\"\n                }\n              >\n                <span className=\"or-s-stepper-node-index\">3</span>\n                <span className=\"or-s-stepper-node-title\">Confirmed</span>\n              </div>\n              <div\n                className={\n                  pickedStatus\n                    ? \"or-s-stepper-line-checked\"\n                    : \"or-s-stepper-line-not-checked\"\n                }\n              ></div>\n              <div\n                className={\n                  pickedStatus\n                    ? \"or-s-stepper-node-checked\"\n                    : \"or-s-stepper-node-not-checked\"\n                }\n              >\n                <span className=\"or-s-stepper-node-index\">4</span>\n                <span className=\"or-s-stepper-node-title\">Picked</span>\n              </div>\n              <div\n                className={\n                  completedStatus\n                    ? \"or-s-stepper-line-checked\"\n                    : \"or-s-stepper-line-not-checked\"\n                }\n              ></div>\n              <div\n                className={\n                  completedStatus\n                    ? \"or-s-stepper-node-checked\"\n                    : \"or-s-stepper-node-not-checked\"\n                }\n              >\n                <span className=\"or-s-stepper-node-index\">5</span>\n                <span className=\"or-s-stepper-node-title\">Completed</span>\n              </div>\n            </div>\n          )}\n\n          <OTOrderDetail\n            orderItems={orderItems}\n            orderSummary={orderSummary}\n            showOrderDetail={showOrderDetail}\n            setShowOrderDetail={setShowOrderDetail}\n          />\n          {!showOrderDetail && (\n            <OrderStatus\n              orderSummary={orderSummary}\n              status={currentStatus}\n              showOrderDetail={showOrderDetail}\n              setShowOrderDetail={setShowOrderDetail}\n              setCompletedStatus={setCompletedStatus}\n              setPickedStatus={setPickedStatus}\n              setCurrentStatus={setCurrentStatus}\n              currentStatus={currentStatus}\n            />\n          )}\n        </div>\n      </div>\n      <Modal\n        openModal={showRatingShipper}\n        closeModal={() => {\n          setShowRatingShipper(false);\n          setShowRatingProvider(true);\n        }}\n        transparent={0.5}\n        title={\"Rate Shipper\"}\n        width={40}\n        height={600}\n        padding=\"0% 0%\"\n        hideHeader={true}\n      >\n        <RateShipper\n          setVisible={setShowRatingShipper}\n          orderSummary={orderSummary}\n        />\n      </Modal>\n      <Modal\n        openModal={showRatingProvider}\n        closeModal={() => {\n          setShowRatingProvider(false);\n        }}\n        transparent={0.5}\n        title={\"Rate Order\"}\n        width={40}\n        height={500}\n        padding=\"0% 0%\"\n        hideHeader={true}\n      >\n        <RateProvider\n          setVisible={setShowRatingProvider}\n          orderSummary={orderSummary}\n        />\n      </Modal>\n    </Fragment>\n  );\n}\n\nOrderTracking.propTypes = {\n  user: PropTypes.object.isRequired,\n  product: PropTypes.object.isRequired,\n  getAllProductFromOrderAPI: PropTypes.func.isRequired,\n  getOrderStatusAPI: PropTypes.func.isRequired,\n  addNotificationAPI: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.UserReducer,\n  product: state.ProductReducer,\n});\n\nexport default withRouter(\n  withAuth(\n    connect(mapStateToProps, {\n      getAllProductFromOrderAPI,\n      getOrderStatusAPI,\n      addNotificationAPI,\n    })(OrderTracking)\n  )\n);\n"]},"metadata":{},"sourceType":"module"}