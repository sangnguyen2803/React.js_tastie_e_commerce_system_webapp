{"ast":null,"code":"var _jsxFileName = \"/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/MerchantDashboard/DashboardFeatures/MDBusinessInsight/MDBusinessInsight.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport \"./MDBusinessInsight.scss\";\nimport PropTypes from \"prop-types\";\nimport MDHeader from \"components/MerchantDashboard/MDHeader/MDHeader\";\nimport Metric from \"../Metric/Metric\";\nimport ProgressBar from \"components/Commons/ProgressBar/ProgressBar\";\nimport ButtonGroup from \"components/Commons/Button/ButtonGroup/ButtonGroup\";\nimport Button from \"components/Commons/Button/Button\";\nimport { getProviderTopProductBySalesAPI, getProviderTopProductByUnitAPI, getProviderTopCategoryByUnitAPI, getProviderRevenueByTime, getProviderOrderByTime } from \"store/actions/ProviderAction/ProviderAction\";\nimport Tabs from \"../Tabs\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCalendarPlus, faPlus, faQuestionCircle } from \"@fortawesome/fontawesome-free-solid\";\nimport Chart from \"react-apexcharts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst monthLabel = [\"\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nconst xAxisLabel = [];\nconst today = new Date();\nlet month = today.getMonth() + 1;\nlet year = today.getFullYear();\nlet count = 12;\n\nwhile (count > 0) {\n  if (month === 0) {\n    year -= 1;\n    month += 12;\n  }\n\n  xAxisLabel.unshift(year + \"-\" + monthLabel[month]);\n  month -= 1;\n  count -= 1;\n}\n\nconst DummyData = {\n  options: {\n    colors: [\"#E11A22\", \"#F8A825\"],\n    chart: {\n      height: 350,\n      type: \"line\",\n      fontFamily: \"Poppins, sans-serif\"\n    },\n    title: {\n      text: \"Store monthly revenue by number of orders\"\n    },\n    dataLabels: {\n      enabled: true,\n      enabledOnSeries: [1]\n    },\n    labels: xAxisLabel,\n    yaxis: [{\n      labels: {\n        formatter: function (val) {\n          return val === null || val === void 0 ? void 0 : val.toFixed(2);\n        }\n      },\n      title: {\n        text: \"Sales\"\n      }\n    }, {\n      labels: {\n        formatter: function (val) {\n          return val === null || val === void 0 ? void 0 : val.toFixed(0);\n        }\n      },\n      opposite: true,\n      title: {\n        text: \"Order\"\n      }\n    }]\n  }\n};\nconst StatisticsType = {\n  filterTabs: [{\n    id: 0,\n    name: \"By Sales\"\n  }, {\n    id: 1,\n    name: \"By Units\"\n  }]\n};\n\nfunction MDBusinessInsight(props) {\n  _s();\n\n  var _revenueByTime$reduce, _provider$topBySales, _provider$topByUnit, _props$provider, _props$provider$topCa;\n\n  const {\n    user,\n    provider,\n    getProviderTopProductBySalesAPI,\n    getProviderTopProductByUnitAPI,\n    getProviderTopCategoryByUnitAPI,\n    getProviderRevenueByTime,\n    getProviderOrderByTime\n  } = props;\n  const [currentTab, setCurrentTab] = useState(0);\n\n  const handleSelectTab = value => {\n    setCurrentTab(value);\n  };\n\n  const [series, setSeries] = useState([{\n    name: \"Revenue\",\n    type: \"column\",\n    data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  }, {\n    name: \"Order\",\n    type: \"column\",\n    data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  }]);\n  const [revenueByTime, setRevenueByTime] = useState([]);\n  const [orderByTime, setOrderByTime] = useState([]);\n  useEffect(() => {\n    async function fetchStatisticsData(id) {\n      const revenue = await getProviderRevenueByTime(id, 1, 6, 2022);\n      setRevenueByTime(revenue);\n      const order = await getProviderOrderByTime(id, 1, 6, 2022);\n      setOrderByTime(order);\n      setSeries([{\n        name: \"Revenue\",\n        type: \"column\",\n        data: revenue\n      }, {\n        name: \"Order\",\n        type: \"column\",\n        data: order\n      }]);\n      const result1 = await getProviderTopProductBySalesAPI(id, 1, 6, 2022);\n      const result2 = await getProviderTopProductByUnitAPI(id, 1, 6, 2022);\n      const result3 = await getProviderTopCategoryByUnitAPI(id, 1, 6, 2022);\n    }\n\n    if (user.provider_id !== -1) fetchStatisticsData(user.provider_id);\n  }, [user.provider_id]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-detail-wrapper\",\n      style: {\n        height: \"auto\",\n        marginTop: \"0px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(MDHeader, {\n        visible: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"panel-detail-title\",\n        children: \"Business Insights\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mkt-section-title\",\n        style: {\n          marginTop: 0,\n          fontWeight: 700\n        },\n        children: \"Key metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mkt-key-metrics-wrapper\",\n        style: {\n          height: 180\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"promotion-progress-wrapper\",\n          style: {\n            height: 180,\n            border: \"2px solid #eeeeee\",\n            backgroundColor: \"#fcfcfc\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-stock-quantity\",\n            children: \"Sales Overview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), revenueByTime.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-stock-quantity-description\",\n            children: [\"Your profit has been\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: revenueByTime[11] < revenueByTime[10] ? \"descreased \" : \"increased \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n              children: [(revenueByTime[11] / revenueByTime[10] * 100).toFixed(2), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), \" \", \"comparing to last month data.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-stock-quantity-description\",\n            children: [\"Sales: \", (revenueByTime === null || revenueByTime === void 0 ? void 0 : revenueByTime.reduce((a, b) => a + b, 0)) || \"0.00\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-stock-quantity-description\",\n            children: [\"Total Order: \", (orderByTime === null || orderByTime === void 0 ? void 0 : orderByTime.reduce((a, b) => a + b, 0)) || \"0 \", \" \", \"orders\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Metric, {\n          text: `Revenue demonstrates the total amount your store has received from ${xAxisLabel[0]} to ${xAxisLabel[xAxisLabel.length - 1]}`,\n          width: \"100%\",\n          height: 180,\n          radius: 5,\n          textColor: \"black\",\n          numeric_data: `$ ${revenueByTime === null || revenueByTime === void 0 ? void 0 : (_revenueByTime$reduce = revenueByTime.reduce((a, b) => a + b, 0)) === null || _revenueByTime$reduce === void 0 ? void 0 : _revenueByTime$reduce.toFixed(2)}`,\n          numericFontSize: 30,\n          border: \"2px solid #eeeeee\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-title\",\n            children: [\"Sales\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              className: \"question-icon\",\n              icon: faQuestionCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Metric, {\n          subText: `Average: `,\n          text: `Order by time demonstrates the total number of orders your store has received from ${xAxisLabel[0]} to ${xAxisLabel[xAxisLabel.length - 1]}`,\n          width: \"100%\",\n          height: 180,\n          radius: 5,\n          textColor: \"black\",\n          numeric_data: `${orderByTime === null || orderByTime === void 0 ? void 0 : orderByTime.reduce((a, b) => a + b, 0)}`,\n          numericFontSize: 30,\n          border: \"2px solid #eeeeee\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-title\",\n            children: [\"Orders\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              className: \"question-icon\",\n              icon: faQuestionCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Metric, {\n          text: \"The revenue amount per order.\",\n          width: \"100%\",\n          height: 180,\n          radius: 5,\n          textColor: \"black\",\n          numeric_data: `$ ${(revenueByTime === null || revenueByTime === void 0 ? void 0 : revenueByTime.reduce((a, b) => a + b, 0)) && (orderByTime === null || orderByTime === void 0 ? void 0 : orderByTime.reduce((a, b) => a + b, 0)) ? ((revenueByTime === null || revenueByTime === void 0 ? void 0 : revenueByTime.reduce((a, b) => a + b, 0)) / (orderByTime === null || orderByTime === void 0 ? void 0 : orderByTime.reduce((a, b) => a + b, 0))).toFixed(2) : \"0.00\"}`,\n          numericFontSize: 30,\n          border: \"2px solid #eeeeee\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-title\",\n            children: [\"Sales per Order\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              className: \"question-icon\",\n              icon: faQuestionCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mkt-section-title\",\n        style: {\n          marginTop: 30,\n          fontWeight: 700\n        },\n        children: \"Trend chart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Chart, {\n        options: DummyData.options,\n        series: series,\n        type: \"bar\",\n        width: \"1100\",\n        height: \"320\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mkt-section-title\",\n        style: {\n          marginTop: 30,\n          fontWeight: 700\n        },\n        children: \"Product Ranking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-table-container\",\n        children: [/*#__PURE__*/_jsxDEV(Tabs, {\n          tabs: StatisticsType.filterTabs,\n          boxWidth: \"15%\",\n          secondaryTabGroup: true,\n          borderTop: true,\n          fixed: false,\n          current: currentTab,\n          selectItem: handleSelectTab\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-table\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"text-capitalize\",\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"table-row-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Ranking\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Product\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"By Sales\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), currentTab === 0 ? provider === null || provider === void 0 ? void 0 : (_provider$topBySales = provider.topBySales) === null || _provider$topBySales === void 0 ? void 0 : _provider$topBySales.map((item, index) => {\n                var _item$total_sales;\n\n                return index < 10 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"table-row-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"product-name\",\n                    style: {\n                      textAlign: \"left\",\n                      width: \"20%\"\n                    },\n                    children: [\"#\", index + 1]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"field-hidden\",\n                    style: {\n                      textAlign: \"left\",\n                      width: \"60%\"\n                    },\n                    children: item.product_name || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"field-hidden\",\n                    style: {\n                      textAlign: \"center\",\n                      width: \"20%\"\n                    },\n                    children: [\"$ \", ((_item$total_sales = item.total_sales) === null || _item$total_sales === void 0 ? void 0 : _item$total_sales.toFixed(2)) || \"—\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 29\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 27\n                }, this);\n              }) : provider === null || provider === void 0 ? void 0 : (_provider$topByUnit = provider.topByUnit) === null || _provider$topByUnit === void 0 ? void 0 : _provider$topByUnit.map((item, index) => index < 10 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"table-row-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"product-name\",\n                  style: {\n                    textAlign: \"left\",\n                    width: \"20%\"\n                  },\n                  children: [\"#\", index + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"field-hidden\",\n                  style: {\n                    textAlign: \"left\",\n                    width: \"60%\"\n                  },\n                  children: item.product_name || \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"field-hidden\",\n                  style: {\n                    textAlign: \"center\",\n                    width: \"20%\"\n                  },\n                  children: item.total_quantity || \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 29\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 27\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mkt-section-title\",\n        style: {\n          marginTop: 30,\n          fontWeight: 700\n        },\n        children: \"Category Ranking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-table\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"text-capitalize\",\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"table-row-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Ranking\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Product name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Category name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"By Units\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 17\n              }, this), (_props$provider = props.provider) === null || _props$provider === void 0 ? void 0 : (_props$provider$topCa = _props$provider.topCategory) === null || _props$provider$topCa === void 0 ? void 0 : _props$provider$topCa.map((item, index) => index < 5 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"table-row-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"product-name\",\n                  style: {\n                    textAlign: \"left\",\n                    width: \"20%\"\n                  },\n                  children: [\"#\", index + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"field-hidden\",\n                  style: {\n                    textAlign: \"left\",\n                    width: \"50%\"\n                  },\n                  children: item.product_name || \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"field-hidden\",\n                  style: {\n                    textAlign: \"left\",\n                    width: \"20%\"\n                  },\n                  children: item.food_category_name || \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"field-hidden\",\n                  style: {\n                    textAlign: \"center\",\n                    width: \"10%\"\n                  },\n                  children: [\"$ \", item.total_quantity || \"—\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MDBusinessInsight, \"FauhNIZTigJ6qCAXjKtlkfHFGak=\");\n\n_c = MDBusinessInsight;\nMDBusinessInsight.propTypes = {\n  user: PropTypes.object.isRequired,\n  provider: PropTypes.object.isRequired,\n  getProviderTopProductBySalesAPI: PropTypes.func.isRequired,\n  getProviderTopProductByUnitAPI: PropTypes.func.isRequired,\n  getProviderTopCategoryByUnitAPI: PropTypes.func.isRequired,\n  getProviderRevenueByTime: PropTypes.func.isRequired,\n  getProviderOrderByTime: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.UserReducer,\n  provider: state.ProviderReducer\n});\n\nexport default withRouter(connect(mapStateToProps, {\n  getProviderTopProductBySalesAPI,\n  getProviderTopProductByUnitAPI,\n  getProviderTopCategoryByUnitAPI,\n  getProviderRevenueByTime,\n  getProviderOrderByTime\n})(MDBusinessInsight));\n\nvar _c;\n\n$RefreshReg$(_c, \"MDBusinessInsight\");","map":{"version":3,"sources":["/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/MerchantDashboard/DashboardFeatures/MDBusinessInsight/MDBusinessInsight.js"],"names":["Fragment","useState","useEffect","withRouter","connect","PropTypes","MDHeader","Metric","ProgressBar","ButtonGroup","Button","getProviderTopProductBySalesAPI","getProviderTopProductByUnitAPI","getProviderTopCategoryByUnitAPI","getProviderRevenueByTime","getProviderOrderByTime","Tabs","FontAwesomeIcon","faCalendarPlus","faPlus","faQuestionCircle","Chart","monthLabel","xAxisLabel","today","Date","month","getMonth","year","getFullYear","count","unshift","DummyData","options","colors","chart","height","type","fontFamily","title","text","dataLabels","enabled","enabledOnSeries","labels","yaxis","formatter","val","toFixed","opposite","StatisticsType","filterTabs","id","name","MDBusinessInsight","props","user","provider","currentTab","setCurrentTab","handleSelectTab","value","series","setSeries","data","revenueByTime","setRevenueByTime","orderByTime","setOrderByTime","fetchStatisticsData","revenue","order","result1","result2","result3","provider_id","marginTop","fontWeight","border","backgroundColor","length","reduce","a","b","topBySales","map","item","index","textAlign","width","product_name","total_sales","topByUnit","total_quantity","topCategory","food_category_name","propTypes","object","isRequired","func","mapStateToProps","state","UserReducer","ProviderReducer"],"mappings":"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","sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport \"./MDBusinessInsight.scss\";\nimport PropTypes from \"prop-types\";\nimport MDHeader from \"components/MerchantDashboard/MDHeader/MDHeader\";\nimport Metric from \"../Metric/Metric\";\nimport ProgressBar from \"components/Commons/ProgressBar/ProgressBar\";\nimport ButtonGroup from \"components/Commons/Button/ButtonGroup/ButtonGroup\";\nimport Button from \"components/Commons/Button/Button\";\n\nimport {\n  getProviderTopProductBySalesAPI,\n  getProviderTopProductByUnitAPI,\n  getProviderTopCategoryByUnitAPI,\n  getProviderRevenueByTime,\n  getProviderOrderByTime,\n} from \"store/actions/ProviderAction/ProviderAction\";\nimport Tabs from \"../Tabs\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCalendarPlus,\n  faPlus,\n  faQuestionCircle,\n} from \"@fortawesome/fontawesome-free-solid\";\nimport Chart from \"react-apexcharts\";\n\nconst monthLabel = [\n  \"\",\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\nconst xAxisLabel = [];\nconst today = new Date();\nlet month = today.getMonth() + 1;\nlet year = today.getFullYear();\nlet count = 12;\nwhile (count > 0) {\n  if (month === 0) {\n    year -= 1;\n    month += 12;\n  }\n  xAxisLabel.unshift(year + \"-\" + monthLabel[month]);\n  month -= 1;\n  count -= 1;\n}\nconst DummyData = {\n  options: {\n    colors: [\"#E11A22\", \"#F8A825\"],\n    chart: {\n      height: 350,\n      type: \"line\",\n      fontFamily: \"Poppins, sans-serif\",\n    },\n    title: {\n      text: \"Store monthly revenue by number of orders\",\n    },\n    dataLabels: {\n      enabled: true,\n      enabledOnSeries: [1],\n    },\n    labels: xAxisLabel,\n    yaxis: [\n      {\n        labels: {\n          formatter: function (val) {\n            return val?.toFixed(2);\n          },\n        },\n        title: {\n          text: \"Sales\",\n        },\n      },\n      {\n        labels: {\n          formatter: function (val) {\n            return val?.toFixed(0);\n          },\n        },\n        opposite: true,\n        title: {\n          text: \"Order\",\n        },\n      },\n    ],\n  },\n};\nconst StatisticsType = {\n  filterTabs: [\n    { id: 0, name: \"By Sales\" },\n    { id: 1, name: \"By Units\" },\n  ],\n};\nfunction MDBusinessInsight(props) {\n  const {\n    user,\n    provider,\n    getProviderTopProductBySalesAPI,\n    getProviderTopProductByUnitAPI,\n    getProviderTopCategoryByUnitAPI,\n    getProviderRevenueByTime,\n    getProviderOrderByTime,\n  } = props;\n  const [currentTab, setCurrentTab] = useState(0);\n  const handleSelectTab = (value) => {\n    setCurrentTab(value);\n  };\n  const [series, setSeries] = useState([\n    {\n      name: \"Revenue\",\n      type: \"column\",\n      data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    },\n    {\n      name: \"Order\",\n      type: \"column\",\n      data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    },\n  ]);\n  const [revenueByTime, setRevenueByTime] = useState([]);\n  const [orderByTime, setOrderByTime] = useState([]);\n  useEffect(() => {\n    async function fetchStatisticsData(id) {\n      const revenue = await getProviderRevenueByTime(id, 1, 6, 2022);\n      setRevenueByTime(revenue);\n      const order = await getProviderOrderByTime(id, 1, 6, 2022);\n      setOrderByTime(order);\n      setSeries([\n        {\n          name: \"Revenue\",\n          type: \"column\",\n          data: revenue,\n        },\n        {\n          name: \"Order\",\n          type: \"column\",\n          data: order,\n        },\n      ]);\n      const result1 = await getProviderTopProductBySalesAPI(id, 1, 6, 2022);\n      const result2 = await getProviderTopProductByUnitAPI(id, 1, 6, 2022);\n      const result3 = await getProviderTopCategoryByUnitAPI(id, 1, 6, 2022);\n    }\n    if (user.provider_id !== -1) fetchStatisticsData(user.provider_id);\n  }, [user.provider_id]);\n\n  return (\n    <Fragment>\n      <div\n        className=\"panel-detail-wrapper\"\n        style={{ height: \"auto\", marginTop: \"0px\" }}\n      >\n        <MDHeader visible={false} />\n        <div className=\"panel-detail-title\">Business Insights</div>\n        <div\n          className=\"mkt-section-title\"\n          style={{ marginTop: 0, fontWeight: 700 }}\n        >\n          Key metrics\n        </div>\n\n        <div className=\"mkt-key-metrics-wrapper\" style={{ height: 180 }}>\n          <div\n            className=\"promotion-progress-wrapper\"\n            style={{\n              height: 180,\n              border: \"2px solid #eeeeee\",\n              backgroundColor: \"#fcfcfc\",\n            }}\n          >\n            <div className=\"product-stock-quantity\">Sales Overview</div>\n            {revenueByTime.length !== 0 && (\n              <div className=\"product-stock-quantity-description\">\n                Your profit has been{\" \"}\n                <b>\n                  {revenueByTime[11] < revenueByTime[10]\n                    ? \"descreased \"\n                    : \"increased \"}\n                </b>\n                <b>\n                  {((revenueByTime[11] / revenueByTime[10]) * 100).toFixed(2)}%\n                </b>{\" \"}\n                comparing to last month data.\n              </div>\n            )}\n            <div className=\"product-stock-quantity-description\">\n              Sales: {revenueByTime?.reduce((a, b) => a + b, 0) || \"0.00\"}\n            </div>\n            <div className=\"product-stock-quantity-description\">\n              Total Order: {orderByTime?.reduce((a, b) => a + b, 0) || \"0 \"}{\" \"}\n              orders\n            </div>\n          </div>\n          <Metric\n            text={`Revenue demonstrates the total amount your store has received from ${\n              xAxisLabel[0]\n            } to ${xAxisLabel[xAxisLabel.length - 1]}`}\n            width={\"100%\"}\n            height={180}\n            radius={5}\n            textColor={\"black\"}\n            numeric_data={`$ ${revenueByTime\n              ?.reduce((a, b) => a + b, 0)\n              ?.toFixed(2)}`}\n            numericFontSize={30}\n            border={\"2px solid #eeeeee\"}\n          >\n            <span className=\"metric-title\">\n              Sales\n              <FontAwesomeIcon\n                className=\"question-icon\"\n                icon={faQuestionCircle}\n              />\n            </span>\n          </Metric>\n          <Metric\n            subText={`Average: `}\n            text={`Order by time demonstrates the total number of orders your store has received from ${\n              xAxisLabel[0]\n            } to ${xAxisLabel[xAxisLabel.length - 1]}`}\n            width={\"100%\"}\n            height={180}\n            radius={5}\n            textColor={\"black\"}\n            numeric_data={`${orderByTime?.reduce((a, b) => a + b, 0)}`}\n            numericFontSize={30}\n            border={\"2px solid #eeeeee\"}\n          >\n            <span className=\"metric-title\">\n              Orders\n              <FontAwesomeIcon\n                className=\"question-icon\"\n                icon={faQuestionCircle}\n              />\n            </span>\n          </Metric>\n          <Metric\n            text={\"The revenue amount per order.\"}\n            width={\"100%\"}\n            height={180}\n            radius={5}\n            textColor={\"black\"}\n            numeric_data={`$ ${\n              revenueByTime?.reduce((a, b) => a + b, 0) &&\n              orderByTime?.reduce((a, b) => a + b, 0)\n                ? (\n                    revenueByTime?.reduce((a, b) => a + b, 0) /\n                    orderByTime?.reduce((a, b) => a + b, 0)\n                  ).toFixed(2)\n                : \"0.00\"\n            }`}\n            numericFontSize={30}\n            border={\"2px solid #eeeeee\"}\n          >\n            <span className=\"metric-title\">\n              Sales per Order\n              <FontAwesomeIcon\n                className=\"question-icon\"\n                icon={faQuestionCircle}\n              />\n            </span>\n          </Metric>\n        </div>\n        <div\n          className=\"mkt-section-title\"\n          style={{ marginTop: 30, fontWeight: 700 }}\n        >\n          Trend chart\n        </div>\n\n        <Chart\n          options={DummyData.options}\n          series={series}\n          type=\"bar\"\n          width=\"1100\"\n          height=\"320\"\n        />\n\n        <div\n          className=\"mkt-section-title\"\n          style={{ marginTop: 30, fontWeight: 700 }}\n        >\n          Product Ranking\n        </div>\n        <div className=\"product-table-container\">\n          <Tabs\n            tabs={StatisticsType.filterTabs}\n            boxWidth={\"15%\"}\n            secondaryTabGroup={true}\n            borderTop={true}\n            fixed={false}\n            current={currentTab}\n            selectItem={handleSelectTab}\n          />\n          <div className=\"product-table\">\n            <table className=\"table table-wrapper\">\n              <tbody className=\"text-capitalize\">\n                <tr className=\"table-row-wrapper\">\n                  <th>Ranking</th>\n                  <th>Product</th>\n                  <th>By Sales</th>\n                </tr>\n                {currentTab === 0\n                  ? provider?.topBySales?.map(\n                      (item, index) =>\n                        index < 10 && (\n                          <tr className=\"table-row-wrapper\" key={index}>\n                            <td\n                              className=\"product-name\"\n                              style={{\n                                textAlign: \"left\",\n                                width: \"20%\",\n                              }}\n                            >\n                              #{index + 1}\n                            </td>\n                            <td\n                              className=\"field-hidden\"\n                              style={{\n                                textAlign: \"left\",\n                                width: \"60%\",\n                              }}\n                            >\n                              {item.product_name || \"—\"}\n                            </td>\n                            <td\n                              className=\"field-hidden\"\n                              style={{\n                                textAlign: \"center\",\n                                width: \"20%\",\n                              }}\n                            >\n                              $ {item.total_sales?.toFixed(2) || \"—\"}\n                            </td>\n                          </tr>\n                        )\n                    )\n                  : provider?.topByUnit?.map(\n                      (item, index) =>\n                        index < 10 && (\n                          <tr className=\"table-row-wrapper\" key={index}>\n                            <td\n                              className=\"product-name\"\n                              style={{\n                                textAlign: \"left\",\n                                width: \"20%\",\n                              }}\n                            >\n                              #{index + 1}\n                            </td>\n                            <td\n                              className=\"field-hidden\"\n                              style={{\n                                textAlign: \"left\",\n                                width: \"60%\",\n                              }}\n                            >\n                              {item.product_name || \"—\"}\n                            </td>\n                            <td\n                              className=\"field-hidden\"\n                              style={{\n                                textAlign: \"center\",\n                                width: \"20%\",\n                              }}\n                            >\n                              {item.total_quantity || \"—\"}\n                            </td>\n                          </tr>\n                        )\n                    )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <div\n          className=\"mkt-section-title\"\n          style={{ marginTop: 30, fontWeight: 700 }}\n        >\n          Category Ranking\n        </div>\n        <div className=\"product-table-container\">\n          <div className=\"product-table\">\n            <table className=\"table table-wrapper\">\n              <tbody className=\"text-capitalize\">\n                <tr className=\"table-row-wrapper\">\n                  <th>Ranking</th>\n                  <th>Product name</th>\n                  <th>Category name</th>\n                  <th>By Units</th>\n                </tr>\n                {props.provider?.topCategory?.map(\n                  (item, index) =>\n                    index < 5 && (\n                      <tr className=\"table-row-wrapper\" key={index}>\n                        <td\n                          className=\"product-name\"\n                          style={{\n                            textAlign: \"left\",\n                            width: \"20%\",\n                          }}\n                        >\n                          #{index + 1}\n                        </td>\n                        <td\n                          className=\"field-hidden\"\n                          style={{\n                            textAlign: \"left\",\n                            width: \"50%\",\n                          }}\n                        >\n                          {item.product_name || \"—\"}\n                        </td>\n                        <td\n                          className=\"field-hidden\"\n                          style={{\n                            textAlign: \"left\",\n                            width: \"20%\",\n                          }}\n                        >\n                          {item.food_category_name || \"—\"}\n                        </td>\n                        <td\n                          className=\"field-hidden\"\n                          style={{\n                            textAlign: \"center\",\n                            width: \"10%\",\n                          }}\n                        >\n                          $ {item.total_quantity || \"—\"}\n                        </td>\n                      </tr>\n                    )\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nMDBusinessInsight.propTypes = {\n  user: PropTypes.object.isRequired,\n  provider: PropTypes.object.isRequired,\n  getProviderTopProductBySalesAPI: PropTypes.func.isRequired,\n  getProviderTopProductByUnitAPI: PropTypes.func.isRequired,\n  getProviderTopCategoryByUnitAPI: PropTypes.func.isRequired,\n  getProviderRevenueByTime: PropTypes.func.isRequired,\n  getProviderOrderByTime: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.UserReducer,\n  provider: state.ProviderReducer,\n});\n\nexport default withRouter(\n  connect(mapStateToProps, {\n    getProviderTopProductBySalesAPI,\n    getProviderTopProductByUnitAPI,\n    getProviderTopCategoryByUnitAPI,\n    getProviderRevenueByTime,\n    getProviderOrderByTime,\n  })(MDBusinessInsight)\n);\n"]},"metadata":{},"sourceType":"module"}