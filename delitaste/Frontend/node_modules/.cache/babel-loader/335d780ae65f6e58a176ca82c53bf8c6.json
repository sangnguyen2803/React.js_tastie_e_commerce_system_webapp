{"ast":null,"code":"var _jsxFileName = \"/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/MerchantDashboard/DashboardFeatures/MDMarketing/MDMarketing.js\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useState, useEffect } from \"react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCalendarPlus, faPlus, faQuestionCircle } from \"@fortawesome/fontawesome-free-solid\";\nimport Switch from \"react-switch\";\nimport ButtonGroup from \"components/Commons/Button/ButtonGroup/ButtonGroup\";\nimport Button from \"components/Commons/Button/Button\";\nimport \"./MDMarketing.scss\";\nimport { faThumbsUp, faThumbsDown } from \"@fortawesome/fontawesome-free-solid\";\nimport PropTypes from \"prop-types\";\nimport Metric from \"../Metric/Metric\";\nimport MDHeader from \"components/MerchantDashboard/MDHeader/MDHeader\";\nimport ProgressBar from \"components/Commons/ProgressBar/ProgressBar\";\nimport Tabs from \"components/MerchantDashboard/DashboardFeatures/Tabs\";\nimport Modal from \"components/Commons/Overlay/Popup/Modal/Modal\";\nimport CreateVoucher from \"./VoucherHandlers/CreateVoucher\";\nimport UpdatePromotion from \"./VoucherHandlers/UpdatePromotion\";\nimport { getAllPromotionAPI, getAllEcouponAPI, subscribeEcouponAPI } from \"store/actions/ProviderAction/ProviderAction\";\nimport { validateDateBetweenTwoDates } from \"utils/DateUtils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductFilterTab = {\n  filterTabs: [{\n    id: 0,\n    name: \"All\"\n  }, {\n    id: 1,\n    name: \"Ongoing\"\n  }, {\n    id: 2,\n    name: \"Upcoming\"\n  }, {\n    id: 3,\n    name: \"Expired\"\n  }]\n};\nconst metricDescription = [\"Claims: Total number of seller-absorbed vouchers claimed by users over the selected time period.\", \"Cost: Total number of seller-absorbed vouchers claimed by users over the selected time period.\", \"Usage Rate: Total number of seller-absorbed vouchers claimed by users over the selected time period.\"];\n\nfunction MDMarketing(props) {\n  _s();\n\n  const {\n    user,\n    provider,\n    getAllPromotionAPI,\n    getAllEcouponAPI\n  } = props;\n  const [currentTab, setCurrentTab] = useState(0);\n  const [showCreateVoucher, setShowCreateVoucher] = useState(false);\n  const [promotionType, setPromotionType] = useState(0);\n  const [selectedPromotion, setSelectedPromotion] = useState({});\n  const [showUpdatePromotion, setShowUpdatePromotion] = useState(false);\n  const [voucher, setVoucher] = useState([]);\n  const [discount, setDiscount] = useState([]);\n  const [ecoupon, setEcoupon] = useState([]);\n  const [registeredEcoupon, setRegisteredEcoupon] = useState([]);\n  useEffect(() => {\n    async function fetchPromotion(id) {\n      const res1 = await getAllPromotionAPI(id);\n      const res2 = await getAllEcouponAPI(id);\n\n      if (res1) {\n        setVoucher(res1.promotion);\n        setDiscount(res1.discount);\n      }\n\n      if (res2) {\n        setEcoupon(res2.ecoupon);\n        setRegisteredEcoupon(res2.ecoupon_registered);\n      }\n    }\n\n    fetchPromotion(user.provider_id);\n  }, [user.provider_id]);\n\n  const subscribeEcoupon = async id => {\n    if (user.provider_id) {\n      var status = await props.subscribeEcouponAPI(id, user.provider_id);\n\n      if (status) {\n        const res = await getAllEcouponAPI(user.provider_id);\n\n        if (res) {\n          setEcoupon(res.ecoupon);\n          setRegisteredEcoupon(res.ecoupon_registered);\n        }\n\n        return;\n      }\n    }\n  };\n\n  const handleSelectTab = value => {};\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"panel-detail-wrapper\",\n      style: {\n        height: \"auto\",\n        marginTop: \"0px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(MDHeader, {\n        visible: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mkt-section-title\",\n        style: {\n          marginTop: 20,\n          fontWeight: 700\n        },\n        children: \"Key metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mkt-key-metrics-wrapper\",\n        style: {\n          height: 240\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"promotion-progress-wrapper\",\n          style: {\n            height: 240,\n            border: \"2px solid #eeeeee\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-stock-quantity\",\n            children: [(voucher === null || voucher === void 0 ? void 0 : voucher.length) + (discount === null || discount === void 0 ? void 0 : discount.length) + (ecoupon === null || ecoupon === void 0 ? void 0 : ecoupon.length), \" Promotion\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-stock-quantity-description\",\n            children: [\"Create \", 60 - (voucher === null || voucher === void 0 ? void 0 : voucher.length) - (discount === null || discount === void 0 ? void 0 : discount.length) - (ecoupon === null || ecoupon === void 0 ? void 0 : ecoupon.length), \" \", \"more promotions.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-progress-bar\",\n            children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n              bgcolor: \"#940000\",\n              progress: (voucher === null || voucher === void 0 ? void 0 : voucher.length) || 0,\n              height: \"6px\",\n              length: 20,\n              text: \"vouchers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-progress-bar\",\n            children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n              bgcolor: \"#940000\",\n              progress: (discount === null || discount === void 0 ? void 0 : discount.length) || 0,\n              height: \"6px\",\n              length: 20,\n              text: \" discounts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-progress-bar\",\n            children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n              bgcolor: \"#940000\",\n              progress: (ecoupon === null || ecoupon === void 0 ? void 0 : ecoupon.length) || 0,\n              height: \"6px\",\n              length: 20,\n              text: \" ecoupons (subscribed)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n            width: 100,\n            mgTop: 10,\n            float: \"flex-start\",\n            mgBottom: 15,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"white\",\n              bgColor: \"rgb(148, 0, 0)\",\n              justifyContent: \"center\",\n              gap: \"5px\",\n              width: 150,\n              height: 30,\n              fontSize: 13,\n              prefix: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faPlus,\n                style: {\n                  color: \"white\",\n                  fontSize: 14\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this),\n              label: \"Create promotion\",\n              onClick: () => setShowCreateVoucher(true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Metric, {\n          text: metricDescription[0],\n          width: \"100%\",\n          height: 240,\n          radius: 5,\n          numeric_data: 120,\n          border: \"2px solid #eeeeee\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-title\",\n            children: [\"Claims\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              className: \"question-icon\",\n              icon: faQuestionCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Metric, {\n          text: metricDescription[1],\n          width: \"100%\",\n          height: 240,\n          radius: 5,\n          numeric_data: \"12\",\n          border: \"2px solid #eeeeee\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-title\",\n            children: [\"Cost\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              className: \"question-icon\",\n              icon: faQuestionCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Metric, {\n          text: metricDescription[2],\n          width: \"100%\",\n          height: 240,\n          radius: 5,\n          numeric_data: \"43\",\n          border: \"2px solid #eeeeee\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-title\",\n            children: [\"Usage rate\", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              className: \"question-icon\",\n              icon: faQuestionCircle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mkt-section-title\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mkt-section-text\",\n          style: {\n            fontWeight: 700\n          },\n          children: \"Voucher List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-table\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"text-capitalize\",\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"table-row-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Voucher code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Voucher name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Value\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Start at\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Expire at\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Usage limit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), voucher === null || voucher === void 0 ? void 0 : voucher.map((item, index) => {\n                var _item$promotion_value;\n\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"table-row-wrapper\",\n                  style: {\n                    cursor: \"pointer\"\n                  },\n                  onClick: () => {\n                    setPromotionType(0);\n                    setSelectedPromotion(item);\n                    setShowUpdatePromotion(true);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"product-name\",\n                    style: {\n                      textAlign: \"left\",\n                      width: \"12.5%\"\n                    },\n                    children: item.promotion_code || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"field-hidden\",\n                    style: {\n                      textAlign: \"center\",\n                      width: \"12.5%\"\n                    },\n                    children: item.promotion_name || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"field-hidden\",\n                    style: {\n                      textAlign: \"left\",\n                      width: \"25%\"\n                    },\n                    children: item.promotion_description || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: [\"$ \", (item === null || item === void 0 ? void 0 : (_item$promotion_value = item.promotion_value) === null || _item$promotion_value === void 0 ? void 0 : _item$promotion_value.toFixed(2)) || \"—\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: new Date(item.start_at).toLocaleDateString() || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: new Date(item.expire_at).toLocaleDateString() || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: item.limited_offer || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: validateDateBetweenTwoDates(new Date(item.start_at), new Date(item.expire_at), new Date()) === true ? \"Available\" : \"Expired\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 21\n                  }, this)]\n                }, item.promotion_id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mkt-section-title\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mkt-section-text\",\n          style: {\n            fontWeight: 700\n          },\n          children: \"Discount List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-table\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"text-capitalize\",\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"table-row-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Discount code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Value\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Start at\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Expire at\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Usage limit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this), discount === null || discount === void 0 ? void 0 : discount.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"table-row-wrapper\",\n                style: {\n                  cursor: \"pointer\"\n                },\n                onClick: () => {\n                  setPromotionType(1);\n                  setSelectedPromotion(item);\n                  setShowUpdatePromotion(true);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"product-name\",\n                  style: {\n                    textAlign: \"left\",\n                    width: \"25%\"\n                  },\n                  children: item.discount_name || \"P_SALEOFF10USD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"field-hidden\",\n                  style: {\n                    textAlign: \"center\",\n                    width: \"25%\"\n                  },\n                  children: item.discount_description || \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: \"center\",\n                    width: \"10%\"\n                  },\n                  children: `${(item.discount_value * 100).toFixed(0)}%` || \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: \"center\",\n                    width: \"10%\"\n                  },\n                  children: new Date(item.start_at).toLocaleDateString() || \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: \"center\",\n                    width: \"10%\"\n                  },\n                  children: new Date(item.expire_at).toLocaleDateString() || \"—\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: \"center\",\n                    width: \"10%\"\n                  },\n                  children: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: \"center\",\n                    width: \"10%\"\n                  },\n                  children: validateDateBetweenTwoDates(new Date(item.start_at), new Date(item.expire_at), new Date()) === true ? \"Available\" : \"Expired\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mkt-section-title\",\n        style: {\n          marginTop: 20\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mkt-section-text\",\n          style: {\n            fontWeight: 700\n          },\n          children: \"Subscribe Ecoupon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-table-container\",\n        style: {\n          margin: \"10px 0 30px 0\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tabs, {\n          tabs: ProductFilterTab.filterTabs,\n          boxWidth: \"8%\",\n          secondaryTabGroup: true,\n          borderTop: true,\n          fixed: false,\n          current: currentTab,\n          selectItem: handleSelectTab\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-table\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"text-capitalize\",\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"table-row-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Ecoupon name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Delivery method\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Value\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Start at\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Expire at\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Subscription\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 17\n              }, this), registeredEcoupon === null || registeredEcoupon === void 0 ? void 0 : registeredEcoupon.map((item, index) => {\n                var _item$ecoupon_value;\n\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"table-row-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"product-name\",\n                    style: {\n                      textAlign: \"left\",\n                      width: \"15%\"\n                    },\n                    children: item.ecoupon_code\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"field-hidden\",\n                    style: {\n                      textAlign: \"center\",\n                      width: \"25%\"\n                    },\n                    children: item.ecoupon_description || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 464,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: item.delivery_mode || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: `$ ${(_item$ecoupon_value = item.ecoupon_value) === null || _item$ecoupon_value === void 0 ? void 0 : _item$ecoupon_value.toFixed(2)}` || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: new Date(item.start_date).toLocaleDateString() || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 489,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: new Date(item.expire_date).toLocaleDateString() || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: validateDateBetweenTwoDates(new Date(item.start_date), new Date(item.expire_date), new Date()) === true ? \"Available\" : \"Expired\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"20%\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                      float: \"center\",\n                      mgTop: 10,\n                      gap: 12,\n                      mgBottom: 5,\n                      width: 100,\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        color: \"black\",\n                        bglight: true,\n                        border: \"#5d5d5d 1.5px solid\",\n                        gap: \"10px\",\n                        justifyContent: \"center\",\n                        width: 100,\n                        height: 30,\n                        label: \"Unsubscribe\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 535,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 528,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 21\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 19\n                }, this);\n              }), ecoupon === null || ecoupon === void 0 ? void 0 : ecoupon.map((item, index) => {\n                var _item$ecoupon_value2;\n\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  className: \"table-row-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"product-name\",\n                    style: {\n                      textAlign: \"left\",\n                      width: \"15%\"\n                    },\n                    children: item.ecoupon_code\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 551,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"field-hidden\",\n                    style: {\n                      textAlign: \"center\",\n                      width: \"25%\"\n                    },\n                    children: item.ecoupon_description || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: item.delivery_mode || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 569,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: `$ ${(_item$ecoupon_value2 = item.ecoupon_value) === null || _item$ecoupon_value2 === void 0 ? void 0 : _item$ecoupon_value2.toFixed(2)}` || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 577,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: new Date(item.start_date).toLocaleDateString() || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: new Date(item.expire_date).toLocaleDateString() || \"—\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 594,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"10%\"\n                    },\n                    children: validateDateBetweenTwoDates(new Date(item.start_date), new Date(item.expire_date), new Date()) === true ? \"Available\" : \"Expired\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 603,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: \"center\",\n                      width: \"20%\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                      float: \"center\",\n                      mgTop: 10,\n                      gap: 12,\n                      mgBottom: 5,\n                      width: 100,\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        color: \"black\",\n                        bglight: true,\n                        border: \"#5d5d5d 1.5px solid\",\n                        gap: \"10px\",\n                        justifyContent: \"center\",\n                        width: 100,\n                        height: 30,\n                        label: \"Subscribe\",\n                        onClick: () => subscribeEcoupon(item.ecoupon_id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 631,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 624,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 618,\n                    columnNumber: 21\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 19\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CreateVoucher, {\n      visible: showCreateVoucher,\n      setVisible: setShowCreateVoucher\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(UpdatePromotion, {\n      promotionType: promotionType,\n      selectedPromotion: selectedPromotion,\n      visible: showUpdatePromotion,\n      setVisible: setShowUpdatePromotion\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MDMarketing, \"mBfG7NAKGyL7kNivveVQYNb3oOU=\");\n\n_c = MDMarketing;\nMDMarketing.propTypes = {\n  user: PropTypes.object.isRequired,\n  provider: PropTypes.object.isRequired,\n  getAllPromotionAPI: PropTypes.func.isRequired,\n  getAllEcouponAPI: PropTypes.func.isRequired,\n  subscribeEcouponAPI: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.UserReducer,\n  provider: state.ProviderReducer\n});\n\nexport default withRouter(connect(mapStateToProps, {\n  getAllPromotionAPI,\n  getAllEcouponAPI,\n  subscribeEcouponAPI\n})(MDMarketing));\n\nvar _c;\n\n$RefreshReg$(_c, \"MDMarketing\");","map":{"version":3,"sources":["/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/components/MerchantDashboard/DashboardFeatures/MDMarketing/MDMarketing.js"],"names":["Fragment","useState","useEffect","DragDropContext","Draggable","Droppable","withRouter","connect","FontAwesomeIcon","faCalendarPlus","faPlus","faQuestionCircle","Switch","ButtonGroup","Button","faThumbsUp","faThumbsDown","PropTypes","Metric","MDHeader","ProgressBar","Tabs","Modal","CreateVoucher","UpdatePromotion","getAllPromotionAPI","getAllEcouponAPI","subscribeEcouponAPI","validateDateBetweenTwoDates","ProductFilterTab","filterTabs","id","name","metricDescription","MDMarketing","props","user","provider","currentTab","setCurrentTab","showCreateVoucher","setShowCreateVoucher","promotionType","setPromotionType","selectedPromotion","setSelectedPromotion","showUpdatePromotion","setShowUpdatePromotion","voucher","setVoucher","discount","setDiscount","ecoupon","setEcoupon","registeredEcoupon","setRegisteredEcoupon","fetchPromotion","res1","res2","promotion","ecoupon_registered","provider_id","subscribeEcoupon","status","res","handleSelectTab","value","height","marginTop","fontWeight","border","length","color","fontSize","map","item","index","cursor","textAlign","width","promotion_code","promotion_name","promotion_description","promotion_value","toFixed","Date","start_at","toLocaleDateString","expire_at","limited_offer","promotion_id","discount_name","discount_description","discount_value","margin","ecoupon_code","ecoupon_description","delivery_mode","ecoupon_value","start_date","expire_date","ecoupon_id","propTypes","object","isRequired","func","mapStateToProps","state","UserReducer","ProviderReducer"],"mappings":"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","sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faCalendarPlus,\n  faPlus,\n  faQuestionCircle,\n} from \"@fortawesome/fontawesome-free-solid\";\nimport Switch from \"react-switch\";\nimport ButtonGroup from \"components/Commons/Button/ButtonGroup/ButtonGroup\";\nimport Button from \"components/Commons/Button/Button\";\nimport \"./MDMarketing.scss\";\nimport { faThumbsUp, faThumbsDown } from \"@fortawesome/fontawesome-free-solid\";\nimport PropTypes from \"prop-types\";\nimport Metric from \"../Metric/Metric\";\nimport MDHeader from \"components/MerchantDashboard/MDHeader/MDHeader\";\nimport ProgressBar from \"components/Commons/ProgressBar/ProgressBar\";\nimport Tabs from \"components/MerchantDashboard/DashboardFeatures/Tabs\";\nimport Modal from \"components/Commons/Overlay/Popup/Modal/Modal\";\nimport CreateVoucher from \"./VoucherHandlers/CreateVoucher\";\nimport UpdatePromotion from \"./VoucherHandlers/UpdatePromotion\";\nimport {\n  getAllPromotionAPI,\n  getAllEcouponAPI,\n  subscribeEcouponAPI,\n} from \"store/actions/ProviderAction/ProviderAction\";\nimport { validateDateBetweenTwoDates } from \"utils/DateUtils\";\n\nconst ProductFilterTab = {\n  filterTabs: [\n    { id: 0, name: \"All\" },\n    { id: 1, name: \"Ongoing\" },\n    { id: 2, name: \"Upcoming\" },\n    { id: 3, name: \"Expired\" },\n  ],\n};\nconst metricDescription = [\n  \"Claims: Total number of seller-absorbed vouchers claimed by users over the selected time period.\",\n  \"Cost: Total number of seller-absorbed vouchers claimed by users over the selected time period.\",\n  \"Usage Rate: Total number of seller-absorbed vouchers claimed by users over the selected time period.\",\n];\nfunction MDMarketing(props) {\n  const { user, provider, getAllPromotionAPI, getAllEcouponAPI } = props;\n  const [currentTab, setCurrentTab] = useState(0);\n  const [showCreateVoucher, setShowCreateVoucher] = useState(false);\n  const [promotionType, setPromotionType] = useState(0);\n  const [selectedPromotion, setSelectedPromotion] = useState({});\n  const [showUpdatePromotion, setShowUpdatePromotion] = useState(false);\n  const [voucher, setVoucher] = useState([]);\n  const [discount, setDiscount] = useState([]);\n  const [ecoupon, setEcoupon] = useState([]);\n  const [registeredEcoupon, setRegisteredEcoupon] = useState([]);\n  useEffect(() => {\n    async function fetchPromotion(id) {\n      const res1 = await getAllPromotionAPI(id);\n      const res2 = await getAllEcouponAPI(id);\n      if (res1) {\n        setVoucher(res1.promotion);\n        setDiscount(res1.discount);\n      }\n      if (res2) {\n        setEcoupon(res2.ecoupon);\n        setRegisteredEcoupon(res2.ecoupon_registered);\n      }\n    }\n    fetchPromotion(user.provider_id);\n  }, [user.provider_id]);\n\n  const subscribeEcoupon = async (id) => {\n    if (user.provider_id) {\n      var status = await props.subscribeEcouponAPI(id, user.provider_id);\n      if (status) {\n        const res = await getAllEcouponAPI(user.provider_id);\n        if (res) {\n          setEcoupon(res.ecoupon);\n          setRegisteredEcoupon(res.ecoupon_registered);\n        }\n        return;\n      }\n    }\n  };\n\n  const handleSelectTab = (value) => {};\n  return (\n    <Fragment>\n      <div\n        className=\"panel-detail-wrapper\"\n        style={{ height: \"auto\", marginTop: \"0px\" }}\n      >\n        <MDHeader visible={true} />\n        <div\n          className=\"mkt-section-title\"\n          style={{ marginTop: 20, fontWeight: 700 }}\n        >\n          Key metrics\n        </div>\n\n        <div className=\"mkt-key-metrics-wrapper\" style={{ height: 240 }}>\n          <div\n            className=\"promotion-progress-wrapper\"\n            style={{ height: 240, border: \"2px solid #eeeeee\" }}\n          >\n            <div className=\"product-stock-quantity\">\n              {voucher?.length + discount?.length + ecoupon?.length} Promotion\n            </div>\n            <div className=\"product-stock-quantity-description\">\n              Create {60 - voucher?.length - discount?.length - ecoupon?.length}{\" \"}\n              more promotions.\n            </div>\n            <div className=\"product-progress-bar\">\n              <ProgressBar\n                bgcolor=\"#940000\"\n                progress={voucher?.length || 0}\n                height=\"6px\"\n                length={20}\n                text={\"vouchers\"}\n              />\n            </div>\n            <div className=\"product-progress-bar\">\n              <ProgressBar\n                bgcolor=\"#940000\"\n                progress={discount?.length || 0}\n                height=\"6px\"\n                length={20}\n                text={\" discounts\"}\n              />\n            </div>\n            <div className=\"product-progress-bar\">\n              <ProgressBar\n                bgcolor=\"#940000\"\n                progress={ecoupon?.length || 0}\n                height=\"6px\"\n                length={20}\n                text={\" ecoupons (subscribed)\"}\n              />\n            </div>\n            <ButtonGroup\n              width={100}\n              mgTop={10}\n              float=\"flex-start\"\n              mgBottom={15}\n            >\n              <Button\n                color={\"white\"}\n                bgColor={\"rgb(148, 0, 0)\"}\n                justifyContent={\"center\"}\n                gap={\"5px\"}\n                width={150}\n                height={30}\n                fontSize={13}\n                prefix={\n                  <FontAwesomeIcon\n                    icon={faPlus}\n                    style={{ color: \"white\", fontSize: 14 }}\n                  />\n                }\n                label={\"Create promotion\"}\n                onClick={() => setShowCreateVoucher(true)}\n              />\n            </ButtonGroup>\n          </div>\n          <Metric\n            text={metricDescription[0]}\n            width={\"100%\"}\n            height={240}\n            radius={5}\n            numeric_data={120}\n            border={\"2px solid #eeeeee\"}\n          >\n            <span className=\"metric-title\">\n              Claims\n              <FontAwesomeIcon\n                className=\"question-icon\"\n                icon={faQuestionCircle}\n              />\n            </span>\n          </Metric>\n          <Metric\n            text={metricDescription[1]}\n            width={\"100%\"}\n            height={240}\n            radius={5}\n            numeric_data={\"12\"}\n            border={\"2px solid #eeeeee\"}\n          >\n            <span className=\"metric-title\">\n              Cost\n              <FontAwesomeIcon\n                className=\"question-icon\"\n                icon={faQuestionCircle}\n              />\n            </span>\n          </Metric>\n          <Metric\n            text={metricDescription[2]}\n            width={\"100%\"}\n            height={240}\n            radius={5}\n            numeric_data={\"43\"}\n            border={\"2px solid #eeeeee\"}\n          >\n            <span className=\"metric-title\">\n              Usage rate\n              <FontAwesomeIcon\n                className=\"question-icon\"\n                icon={faQuestionCircle}\n              />\n            </span>\n          </Metric>\n        </div>\n        <div className=\"mkt-section-title\">\n          <span className=\"mkt-section-text\" style={{ fontWeight: 700 }}>\n            Voucher List\n          </span>\n        </div>\n        <div className=\"product-table-container\">\n          <div className=\"product-table\">\n            <table className=\"table table-wrapper\">\n              <tbody className=\"text-capitalize\">\n                <tr className=\"table-row-wrapper\">\n                  <th>Voucher code</th>\n                  <th>Voucher name</th>\n                  <th>Description</th>\n                  <th>Value</th>\n                  <th>Start at</th>\n                  <th>Expire at</th>\n                  <th>Usage limit</th>\n                  <th>Status</th>\n                </tr>\n                {voucher?.map((item, index) => (\n                  <tr\n                    className=\"table-row-wrapper\"\n                    key={item.promotion_id}\n                    style={{ cursor: \"pointer\" }}\n                    onClick={() => {\n                      setPromotionType(0);\n                      setSelectedPromotion(item);\n                      setShowUpdatePromotion(true);\n                    }}\n                  >\n                    <td\n                      className=\"product-name\"\n                      style={{\n                        textAlign: \"left\",\n                        width: \"12.5%\",\n                      }}\n                    >\n                      {item.promotion_code || \"—\"}\n                    </td>\n                    <td\n                      className=\"field-hidden\"\n                      style={{\n                        textAlign: \"center\",\n                        width: \"12.5%\",\n                      }}\n                    >\n                      {item.promotion_name || \"—\"}\n                    </td>\n                    <td\n                      className=\"field-hidden\"\n                      style={{\n                        textAlign: \"left\",\n                        width: \"25%\",\n                      }}\n                    >\n                      {item.promotion_description || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      $ {item?.promotion_value?.toFixed(2) || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {new Date(item.start_at).toLocaleDateString() || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {new Date(item.expire_at).toLocaleDateString() || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {item.limited_offer || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {validateDateBetweenTwoDates(\n                        new Date(item.start_at),\n                        new Date(item.expire_at),\n                        new Date()\n                      ) === true\n                        ? \"Available\"\n                        : \"Expired\"}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <div className=\"mkt-section-title\">\n          <span className=\"mkt-section-text\" style={{ fontWeight: 700 }}>\n            Discount List\n          </span>\n        </div>\n        <div className=\"product-table-container\">\n          <div className=\"product-table\">\n            <table className=\"table table-wrapper\">\n              <tbody className=\"text-capitalize\">\n                <tr className=\"table-row-wrapper\">\n                  <th>Discount code</th>\n                  <th>Description</th>\n                  <th>Value</th>\n                  <th>Start at</th>\n                  <th>Expire at</th>\n                  <th>Usage limit</th>\n                  <th>Status</th>\n                </tr>\n                {discount?.map((item, index) => (\n                  <tr\n                    className=\"table-row-wrapper\"\n                    key={index}\n                    style={{ cursor: \"pointer\" }}\n                    onClick={() => {\n                      setPromotionType(1);\n                      setSelectedPromotion(item);\n                      setShowUpdatePromotion(true);\n                    }}\n                  >\n                    <td\n                      className=\"product-name\"\n                      style={{\n                        textAlign: \"left\",\n                        width: \"25%\",\n                      }}\n                    >\n                      {item.discount_name || \"P_SALEOFF10USD\"}\n                    </td>\n                    <td\n                      className=\"field-hidden\"\n                      style={{\n                        textAlign: \"center\",\n                        width: \"25%\",\n                      }}\n                    >\n                      {item.discount_description || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {`${(item.discount_value * 100).toFixed(0)}%` || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {new Date(item.start_at).toLocaleDateString() || \"—\"}\n                    </td>\n\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {new Date(item.expire_at).toLocaleDateString() || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      0\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {validateDateBetweenTwoDates(\n                        new Date(item.start_at),\n                        new Date(item.expire_at),\n                        new Date()\n                      ) === true\n                        ? \"Available\"\n                        : \"Expired\"}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <div className=\"mkt-section-title\" style={{ marginTop: 20 }}>\n          <span className=\"mkt-section-text\" style={{ fontWeight: 700 }}>\n            Subscribe Ecoupon\n          </span>\n        </div>\n        <div\n          className=\"product-table-container\"\n          style={{ margin: \"10px 0 30px 0\" }}\n        >\n          <Tabs\n            tabs={ProductFilterTab.filterTabs}\n            boxWidth={\"8%\"}\n            secondaryTabGroup={true}\n            borderTop={true}\n            fixed={false}\n            current={currentTab}\n            selectItem={handleSelectTab}\n          />\n          <div className=\"product-table\">\n            <table className=\"table table-wrapper\">\n              <tbody className=\"text-capitalize\">\n                <tr className=\"table-row-wrapper\">\n                  <th>Ecoupon name</th>\n                  <th>Description</th>\n                  <th>Delivery method</th>\n                  <th>Value</th>\n                  <th>Start at</th>\n                  <th>Expire at</th>\n                  <th>Status</th>\n                  <th>Subscription</th>\n                </tr>\n                {registeredEcoupon?.map((item, index) => (\n                  <tr className=\"table-row-wrapper\" key={index}>\n                    <td\n                      className=\"product-name\"\n                      style={{\n                        textAlign: \"left\",\n                        width: \"15%\",\n                      }}\n                    >\n                      {item.ecoupon_code}\n                    </td>\n                    <td\n                      className=\"field-hidden\"\n                      style={{\n                        textAlign: \"center\",\n                        width: \"25%\",\n                      }}\n                    >\n                      {item.ecoupon_description || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {item.delivery_mode || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {`$ ${item.ecoupon_value?.toFixed(2)}` || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {new Date(item.start_date).toLocaleDateString() || \"—\"}\n                    </td>\n\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {new Date(item.expire_date).toLocaleDateString() || \"—\"}\n                    </td>\n\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {validateDateBetweenTwoDates(\n                        new Date(item.start_date),\n                        new Date(item.expire_date),\n                        new Date()\n                      ) === true\n                        ? \"Available\"\n                        : \"Expired\"}\n                    </td>\n\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"20%\",\n                      }}\n                    >\n                      <ButtonGroup\n                        float=\"center\"\n                        mgTop={10}\n                        gap={12}\n                        mgBottom={5}\n                        width={100}\n                      >\n                        <Button\n                          color={\"black\"}\n                          bglight={true}\n                          border={\"#5d5d5d 1.5px solid\"}\n                          gap={\"10px\"}\n                          justifyContent={\"center\"}\n                          width={100}\n                          height={30}\n                          label=\"Unsubscribe\"\n                        />\n                      </ButtonGroup>\n                    </td>\n                  </tr>\n                ))}\n                {ecoupon?.map((item, index) => (\n                  <tr className=\"table-row-wrapper\" key={index}>\n                    <td\n                      className=\"product-name\"\n                      style={{\n                        textAlign: \"left\",\n                        width: \"15%\",\n                      }}\n                    >\n                      {item.ecoupon_code}\n                    </td>\n                    <td\n                      className=\"field-hidden\"\n                      style={{\n                        textAlign: \"center\",\n                        width: \"25%\",\n                      }}\n                    >\n                      {item.ecoupon_description || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {item.delivery_mode || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {`$ ${item.ecoupon_value?.toFixed(2)}` || \"—\"}\n                    </td>\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {new Date(item.start_date).toLocaleDateString() || \"—\"}\n                    </td>\n\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {new Date(item.expire_date).toLocaleDateString() || \"—\"}\n                    </td>\n\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"10%\",\n                      }}\n                    >\n                      {validateDateBetweenTwoDates(\n                        new Date(item.start_date),\n                        new Date(item.expire_date),\n                        new Date()\n                      ) === true\n                        ? \"Available\"\n                        : \"Expired\"}\n                    </td>\n\n                    <td\n                      style={{\n                        textAlign: \"center\",\n                        width: \"20%\",\n                      }}\n                    >\n                      <ButtonGroup\n                        float=\"center\"\n                        mgTop={10}\n                        gap={12}\n                        mgBottom={5}\n                        width={100}\n                      >\n                        <Button\n                          color={\"black\"}\n                          bglight={true}\n                          border={\"#5d5d5d 1.5px solid\"}\n                          gap={\"10px\"}\n                          justifyContent={\"center\"}\n                          width={100}\n                          height={30}\n                          label=\"Subscribe\"\n                          onClick={() => subscribeEcoupon(item.ecoupon_id)}\n                        />\n                      </ButtonGroup>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n      <CreateVoucher\n        visible={showCreateVoucher}\n        setVisible={setShowCreateVoucher}\n      />\n      <UpdatePromotion\n        promotionType={promotionType}\n        selectedPromotion={selectedPromotion}\n        visible={showUpdatePromotion}\n        setVisible={setShowUpdatePromotion}\n      />\n    </Fragment>\n  );\n}\n\nMDMarketing.propTypes = {\n  user: PropTypes.object.isRequired,\n  provider: PropTypes.object.isRequired,\n  getAllPromotionAPI: PropTypes.func.isRequired,\n  getAllEcouponAPI: PropTypes.func.isRequired,\n  subscribeEcouponAPI: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.UserReducer,\n  provider: state.ProviderReducer,\n});\n\nexport default withRouter(\n  connect(mapStateToProps, {\n    getAllPromotionAPI,\n    getAllEcouponAPI,\n    subscribeEcouponAPI,\n  })(MDMarketing)\n);\n"]},"metadata":{},"sourceType":"module"}