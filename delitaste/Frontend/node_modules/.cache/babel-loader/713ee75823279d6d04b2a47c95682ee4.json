{"ast":null,"code":"import axios from \"axios\";\nimport { RETRIEVE_TOKEN } from \"store/actions/types\";\nexport const getAccessTokenAPI = refreshToken => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = JSON.stringify({\n    token: refreshToken\n  });\n\n  try {\n    const endpoint = \"/v1/api/auth/get-access-token\";\n    const res = await axios.post(endpoint, body, config);\n\n    if (res.data) {\n      dispatch({\n        type: RETRIEVE_TOKEN,\n        payload: {\n          isUserAuthenticated: res.data.isAuth\n        }\n      });\n    }\n\n    if (res.data.isAuth) return res.data;\n    return null;\n  } catch (err) {\n    const errs = err.response.data.errors;\n    console.log(errs);\n  }\n};","map":{"version":3,"sources":["/Users/hoangnam/4thYear/FinalProject/18VP-Graduation_Project-Tastie-Frontend/delitaste/Frontend/src/store/actions/UserAction/AuthAction.js"],"names":["axios","RETRIEVE_TOKEN","getAccessTokenAPI","refreshToken","dispatch","config","headers","body","JSON","stringify","token","endpoint","res","post","data","type","payload","isUserAuthenticated","isAuth","err","errs","response","errors","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,cAAT,QAA+B,qBAA/B;AAEA,OAAO,MAAMC,iBAAiB,GAAIC,YAAD,IAAkB,MAAOC,QAAP,IAAoB;AACrE,QAAMC,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AADI,GAAf;AAKA,QAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAEC,IAAAA,KAAK,EAAEP;AAAT,GAAf,CAAb;;AACA,MAAI;AACF,UAAMQ,QAAQ,GAAG,+BAAjB;AACA,UAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAWF,QAAX,EAAqBJ,IAArB,EAA2BF,MAA3B,CAAlB;;AACA,QAAIO,GAAG,CAACE,IAAR,EAAc;AACZV,MAAAA,QAAQ,CAAC;AACPW,QAAAA,IAAI,EAAEd,cADC;AAEPe,QAAAA,OAAO,EAAE;AAAEC,UAAAA,mBAAmB,EAAEL,GAAG,CAACE,IAAJ,CAASI;AAAhC;AAFF,OAAD,CAAR;AAID;;AACD,QAAIN,GAAG,CAACE,IAAJ,CAASI,MAAb,EAAqB,OAAON,GAAG,CAACE,IAAX;AACrB,WAAO,IAAP;AACD,GAXD,CAWE,OAAOK,GAAP,EAAY;AACZ,UAAMC,IAAI,GAAGD,GAAG,CAACE,QAAJ,CAAaP,IAAb,CAAkBQ,MAA/B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACD;AACF,CAtBM","sourcesContent":["import axios from \"axios\";\n\nimport { RETRIEVE_TOKEN } from \"store/actions/types\";\n\nexport const getAccessTokenAPI = (refreshToken) => async (dispatch) => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  const body = JSON.stringify({ token: refreshToken });\n  try {\n    const endpoint = \"/v1/api/auth/get-access-token\";\n    const res = await axios.post(endpoint, body, config);\n    if (res.data) {\n      dispatch({\n        type: RETRIEVE_TOKEN,\n        payload: { isUserAuthenticated: res.data.isAuth },\n      });\n    }\n    if (res.data.isAuth) return res.data;\n    return null;\n  } catch (err) {\n    const errs = err.response.data.errors;\n    console.log(errs);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}