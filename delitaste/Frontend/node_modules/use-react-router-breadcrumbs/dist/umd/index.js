!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@babel/runtime/helpers/toConsumableArray"),require("react"),require("react-router")):"function"==typeof define&&define.amd?define(["exports","@babel/runtime/helpers/toConsumableArray","react","react-router"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["react-router-breadcrumbs-hoc"]={},e._toConsumableArray,e.React,e.ReactRouter)}(this,(function(e,t,r,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(t),c=o(r);var u={exact:!0},i="NO_BREADCRUMB",s=function(e){return e.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,(function(e){return e.toUpperCase()}))},l=function(e){var t=e.breadcrumb,n=e.match,o=e.location,a=e.props,u=Object.assign({match:n,location:o,key:n.url},a||{});return Object.assign(Object.assign({},u),{breadcrumb:"string"==typeof t?r.createElement("span",{key:u.key},t):c.default.createElement(t,Object.assign({},u))})},p=function(e){var t,r=e.currentSection,o=e.disableDefaults,a=e.excludePaths,c=e.location,p=e.pathSection,b=e.routes;return a&&a.some((function(e){return null!=n.matchPath(p,{path:e,exact:!0,strict:!1})}))?i:(b.some((function(e){var a=e.breadcrumb,b=e.matchOptions,f=e.path,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["breadcrumb","matchOptions","path"]);if(!f)throw new Error("useBreadcrumbs: `path` must be provided in every route object");var m=n.matchPath(p,Object.assign(Object.assign({},b||u),{path:f}));return m&&null===a||!m&&b?(t=i,!0):!!m&&(!a&&o?(t=i,!0):(t=l(Object.assign({breadcrumb:a||s(r),match:m,location:c},d)),!0))})),t||(o?i:function(e){var t=e.currentSection,r=e.location,o=e.pathSection,a=n.matchPath(o,Object.assign(Object.assign({},u),{path:o}))||{url:"not-found"};return l({breadcrumb:s(t),match:a,location:r})}({pathSection:p,currentSection:"/"===p?"Home":r,location:c})))},b=function(e){var t=e.routes,r=e.location,n=e.options,o=void 0===n?{}:n,a=[];return r.pathname.split("?")[0].split("/").reduce((function(e,n,c){var u=n?"".concat(e,"/").concat(n):"/";if("/"===u&&0!==c)return"";var s=p(Object.assign({currentSection:n,location:r,pathSection:u,routes:t},o));return s!==i&&a.push(s),"/"===u?"":u}),""),a},f=function e(t){return t.reduce((function(t,r){return r.routes?t.concat([r].concat(a.default(e(r.routes)))):t.concat(r)}),[])};e.default=function(e,t){return b({routes:f(e||[]),location:n.useLocation(),options:t})},e.getBreadcrumbs=b,Object.defineProperty(e,"__esModule",{value:!0})}));
